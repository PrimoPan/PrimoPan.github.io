[{"title":"Codeforces19D Points æ ‘å¥—æ ‘","url":"/2022/03/18/cf19d/","content":"Codeforces 19D Points\n\nPete and Bob invented a new interesting game. Bob takes a sheet of paper and locates a Cartesian coordinate system on it as follows: point (0,â€‰0) is located in the bottom-left corner, Ox axis is directed right, Oy axis is directed up. Pete gives Bob requests of three types:\nadd x y â€” on the sheet of paper Bob marks a point with coordinates (x,â€‰y). For each request of this type itâ€™s guaranteed that point (x,â€‰y) is not yet marked on Bobâ€™s sheet at the time of the request.remove x y â€” on the sheet of paper Bob erases the previously marked point with coordinates (x,â€‰y). For each request of this type itâ€™s guaranteed that point (x,â€‰y) is already marked on Bobâ€™s sheet at the time of the request.find x y â€” on the sheet of paper Bob finds all the marked points, lying strictly above and strictly to the right of point (x,â€‰y). Among these points Bob chooses the leftmost one, if it is not unique, he chooses the bottommost one, and gives its coordinates to Pete.Bob managed to answer the requests, when they were 10, 100 or 1000, but when their amount grew up to 2Â·105, Bob failed to cope. Now he needs a program that will answer all Peteâ€™s requests. Help Bob, please!\nInput\nThe first input line contains number n (1â€‰â‰¤â€‰nâ€‰â‰¤â€‰2Â·105) â€” amount of requests. Then there follow n lines â€” descriptions of the requests. add x y describes the request to add a point, remove x y â€” the request to erase a point, find x y â€” the request to find the bottom-left point. All the coordinates in the input file are non-negative and donâ€™t exceed 109.\nOutput\nFor each request of type find x y output in a separate line the answer to it â€” coordinates of the bottommost among the leftmost marked points, lying strictly above and to the right of point (x,â€‰y). If there are no points strictly above and to the right of point (x,â€‰y), output -1.\nExample\nInput\n7\nadd 1 1\nadd 3 4\nfind 0 0\nremove 1 1\nfind 0 0\nadd 1 1\nfind 0 0\nOutput\n1 1\n3 4\n1 1\nInput\n13\nadd 5 5\nadd 5 6\nadd 5 7\nadd 6 5\nadd 6 6\nadd 6 7\nadd 7 5\nadd 7 6\nadd 7 7\nfind 6 6\nremove 7 7\nfind 6 6\nfind 4 4\nOutput\n7 7\n-1\n5 5\n\né¢˜ç›®å¤§æ„\nåœ¨å¹³é¢ç›´è§’åæ ‡ç³»ä¸Šè¿›è¡Œä¸€å †éªšæ“ä½œã€‚Addè¡¨ç¤ºæ·»åŠ (x,y) Removeåˆ é™¤(x,y) Find(x,y)è¡¨ç¤ºæŸ¥è¯¢(x,y)å³è¾¹çš„æœ€å·¦è¾¹çš„ä¸Šé¢çš„æœ€ä¸‹é¢é‚£ä¸ªç‚¹â€¦â€¦\né¢˜è§£\n\nå»ºä¸€æ£µçº¿æ®µæ ‘ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹ç»´æŠ¤ä¸€æ£µå¹³è¡¡æ ‘ï¼Œå¹³è¡¡æ ‘é‡Œè®°å½•æ¨ªåæ ‡ä¸ºxçš„çºµåæ ‡ï¼ˆæ¨ªåæ ‡è¾ƒå¤§æˆ‘ä»¬å¯ä»¥å…ˆç¦»æ•£åŒ–ï¼‰ï¼Œçº¿æ®µæ ‘ç»´æŠ¤æ¨ªåæ ‡åœ¨è¿™ä¸ªåŒºé—´é‡Œçš„çºµåæ ‡çš„æœ€å¤§å€¼ï¼Œæ‰€ä»¥æŸ¥è¯¢çš„æ—¶å€™åªè¦è¿™ä¸ªçº¿æ®µæ ‘ç»“ç‚¹ç»´æŠ¤çš„keyå°äºæˆ‘ä»¬è¦æ‰¾åˆ°yè¿™ä¸ªåŒºé—´é‡Œå°±æ²¡æœ‰è§£ï¼Œåœ¨keyå€¼ç¬¦åˆæ¡ä»¶çš„æƒ…å†µä¸‹æ‰¾æ¨ªåæ ‡æœ€å·¦è¾¹çš„ä¸€ä¸ªç‚¹ï¼Œæ‰¾åˆ°è¿™ä¸ªæ¨ªåæ ‡å†åœ¨å¹³è¡¡æ ‘é‡Œæ‰¾æ°å¥½æ¯”yå¤§çš„é‚£ä¸ªç‚¹å³å¯ã€‚\n\n\n#include &lt;bits/stdc++.h&gt;using namespace std;#define maxn (int)2e5+10#define lson o&lt;&lt;1#define rson o&lt;&lt;1|1struct Opt{\tchar s[10];\tint x,y;}opt[maxn];struct SGT{\tint l,r,key;}T[maxn&lt;&lt;2];#define ll long longint n,a[maxn],b[maxn],c[maxn];set&lt;int&gt; S[maxn];set&lt;int&gt;::iterator it;inline void build(int o,int l,int r){\tif (l&gt;r) return ;\tT[o].l=l;T[o].r=r;T[o].key=-1;\tif (l==r)return ;\tint mid=(l+r)&gt;&gt;1;\tbuild(lson,l,mid);build(rson,mid+1,r);\tT[o].key=max(T[lson].key,T[rson].key);}inline void update(int o,int x){\tint mid=(T[o].l+T[o].r)&gt;&gt;1;\tif (T[o].l==T[o].r &amp;&amp; T[o].l==x)\t{\t\tif (S[T[o].l].size())\t\t{\t\t\tit=(--S[T[o].l].end());\t\t\tT[o].key=*it;\t\t}\t\telse T[o].key=-1;\t\treturn ;\t}\tif (mid&gt;=x) update(lson,x);\telse update(rson,x);\tT[o].key=max(T[lson].key,T[rson].key);}inline int query(int o,int x,int y){\tif (T[o].r&lt;=x) return -1;\tif (T[o].key&lt;=y) return -1;\tif (T[o].l==T[o].r) return T[o].r;\tint t=query(lson,x,y);\tif (t==-1) return query(rson,x,y);\treturn t;}int cnt=0,ct2;int main(){\tcin&gt;&gt;n;\tfor (int i=1;i&lt;=n;i++)\t{\t\tscanf(\"%s%d%d\",opt[i].s,&amp;opt[i].x,&amp;opt[i].y);\t\ta[i]=opt[i].x;\t}\tsort(a+1,a+1+n);\tint t=unique(a+1,a+1+n)-a-1;\tfor (int i=1;i&lt;=n;i++) b[i]=lower_bound(a+1,a+1+t,opt[i].x)-a;\tbuild(1,1,maxn);\tfor (int i=1;i&lt;=n;i++)\t{\t\tif (opt[i].s[0]=='a')\t\t{\t\t\tS[b[i]].insert(opt[i].y);\t\t\tupdate(1,b[i]);\t\t}else\t\tif (opt[i].s[0]=='r')\t\t{\t\t\tS[b[i]].erase(opt[i].y);\t\t\tupdate(1,b[i]);\t\t}\t\telse{\t\t\tint ans=query(1,b[i],opt[i].y);\t\t\tif (ans==-1) cout&lt;&lt;-1&lt;&lt;endl;\t\t\telse{\t\t\t\tprintf(\"%d %d\\n\",a[ans],*S[ans].upper_bound(opt[i].y));\t\t\t}\t\t}\t}}","categories":["ç®—æ³•ç«èµ›"],"tags":["çº¿æ®µæ ‘","æ ‘å¥—æ ‘","æ•°æ®ç»“æ„","Codeforces"]},{"title":"codeforces 24D Broken Robot[æœ‰åæ•ˆæ€§DP,é«˜æ–¯æ¶ˆå…ƒ]","url":"/2022/03/19/cf24d/","content":"æ¥è‡ªlydçš„ä¹¦ï¼Œç»™å®šä¸€å¼ N*Mçš„æ£‹ç›˜å’Œä¸€ä¸ªåˆå§‹ä½ç½®ï¼Œæœºå™¨äººä½äºåˆå§‹ä½ç½®ï¼Œæ¯æ¬¡ç­‰æ¦‚ç‡åœ°é€‰æ‹©åœåœ¨åŸåœ°ï¼Œå‘å·¦ç§»åŠ¨ä¸€æ ¼æˆ–è€…å‘ä¸‹ç§»åŠ¨ä¸€æ ¼ã€‚ä¸èƒ½ç§»å‡ºæ£‹ç›˜ï¼Œæ±‚æœºå™¨äººä»åˆå§‹ä½ç½®èµ°åˆ°æœ€åä¸€è¡Œçš„ä»»æ„ä¸€ä¸ªä½ç½®çš„æ•°å­¦æœŸæœ›ã€‚ï¼ˆ1&lt;=N,M&lt;=1,000)ã€‚\næ³¨æ„å¾ˆå¤šæ•°å­¦æœŸæœ›DPéƒ½ä¼šé‡‡å–å€’æ¨çš„æ–¹å¼è¿›è¡Œæˆ‘ä»¬è®°F[i][j]è¡¨ç¤ºä»(i,j)èµ°åˆ°æœ€åä¸€è¡Œæ‰€éœ€è¦çš„æœŸæœ›å€¼\nä½äºç¬¬ä¸€åˆ—\nä½äºæœ€åä¸€åˆ—\nå‰©ä½™æƒ…å†µ\nå› ä¸ºæ¯ä¸€è¡Œå†…éƒ¨å¯ä»¥ç›¸äº’è½¬ç§»ï¼Œæ‰€ä»¥è¿™ä¸ªdpæ˜¯æœ‰åæ•ˆæ€§çš„ï¼Œä½†ä»ä¸‹ä¸€è¡Œå¾€ä¸Šä¸€è¡Œæ¨çš„è¿‡ç¨‹æ— åæ•ˆæ€§ï¼Œå¯¹äºè¡Œå†…æœ‰åæ•ˆæ€§çš„è½¬ç§»ï¼Œä½¿ç”¨é«˜æ–¯æ¶ˆå…ƒï¼Œå°†ä¸‹ä¸€è¡Œå·²ç»å¾—åˆ°çš„æ•°æ®ä½œä¸ºå·²çŸ¥é‡ã€‚é€šè¿‡å°†è¿™äº›æ–¹ç¨‹ç§»é¡¹å¯ä»¥æ¨å‡ºå¾ˆå¤šæ–¹ç¨‹ç»„ï¼Œå°†å®ƒä»¬ç”¨çŸ©é˜µè¡¨ç¤ºï¼Œä»¥M=5ä¸ºä¾‹\n\nè§‚å¯Ÿåå‘ç°è¿™ç§çŸ©é˜µå« ä¸‰å¯¹è§’çŸ©é˜µæ¯ä¸€è¡Œæ¶ˆå…ƒåªéœ€è¦ç›´æ¥ç”¨ä¸‹ä¸€è¡Œç›¸é‚»çš„æ•°æ®è¿›è¡Œä¸€æ¬¡æ¶ˆå…ƒå°±è¡Œäº†ï¼Œå¤æ‚åº¦æ˜¯çº¿æ€§çš„ï¼ŒåŠ ä¸Šæ¯ä¸€è¡Œå¾€ä¸Šçš„æ— åæ•ˆæ€§é€’æ¨ï¼Œæ€»ä½“çš„å¤æ‚åº¦æ˜¯O(NM)ã€‚æ³¨æ„åˆ°M=1çš„æ—¶å€™è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œå°†ç¬¬ä¸€ä¸ªæ–¹ç¨‹å¸¦å…¥æ¶ˆå…ƒåå‘ç°æ¯ä¸€è¡Œç­‰äºä¸‹ä¸€è¡Œçš„æœŸæœ›+2ã€‚åœ¨æ¶ˆå…ƒè¿‡ç¨‹ä¸­å¾ˆå¤šç»†èŠ‚çš„åŠ åŠ å‡å‡å’Œç³»æ•°å¤„ç†éƒ½è¦åœ¨çº¸ä¸Šåˆ—å‡ºç®—å¼æ¶ˆå…ƒåæ‰èƒ½å¤„ç†ï¼Œè¦æ³¨æ„ã€‚\n\ndouble f[maxn],a[maxn][maxn],b[maxn];int n,m,x,y; void gauss(){\tfor (int i=1;i&lt;m;i++)\t{\t\tdouble rt=a[i+1][i]/a[i][i];\t\ta[i+1][i]-=rt*a[i][i];\t\ta[i+1][i+1]-=rt*a[i][i+1];\t\tb[i+1]-=rt*b[i];\t}\tf[m]=b[m]/a[m][m];\tfor (int i=m-1;i&gt;=1;i--)\t{\t\tf[i]=(b[i]-f[i+1]*a[i][i+1])/a[i][i];\t}}//mainint main(){\t//freopen(\"Untitled.txt.in\",\"r\",stdin);\t//freopen(\"Untitled.txt.out\",\"w\",stdout);\tios::sync_with_stdio(false);\tcin&gt;&gt;n&gt;&gt;m&gt;&gt;x&gt;&gt;y;\tif (m==1)\t{\t\tdouble ans= (double) (n-x) *2;\t\tcout&lt;&lt;ans&lt;&lt;endl;\t\treturn 0;\t}\tfor (int i=n-1;i&gt;=x;i--)\t{\t\ta[1][1]=(double)-2/3;\t\ta[1][2]=(double)1/3;\t\ta[m][m-1]=(double)1/3;\t\ta[m][m]=(double)-2/3;\t\tb[1]=(double)((double)-1/3)*f[1]-1;\t\tb[m]=(double)((double)-1/3)*f[m]-1;\t\tfor (int j=2;j&lt;m;j++)\t\t{\t\t\ta[j][j-1]=a[j][j+1]=(double)1/4;\t\t\ta[j][j]=(double)-3/4;\t\t\tb[j]=(double)((double)-1/4)*f[j]-1;\t\t}\t\tgauss();\t\t}\t\tcout&lt;&lt;setprecision(10)&lt;&lt;f[y]&lt;&lt;endl;\treturn 0;}","categories":["ç®—æ³•ç«èµ›"],"tags":["Codeforces","åŠ¨æ€è§„åˆ’","æœ‰åæ•ˆæ€§åŠ¨æ€è§„åˆ’","é«˜æ–¯æ¶ˆå…ƒ"]},{"title":"Javascriptåœ¨å®¿ä¸»è½¯ä»¶ä¸­æ¼”å¥è½¯ä»¶ä¹å™¨","url":"/2022/03/18/Javascript%E5%9C%A8%E5%AE%BF%E4%B8%BB%E8%BD%AF%E4%BB%B6%E4%B8%AD%E6%BC%94%E5%A5%8F%E8%BD%AF%E4%BB%B6%E4%B9%90%E5%99%A8/","content":"JSä¸Logic Pro Xè¿™æ ·çš„ç¼–æ›²å®¿ä¸»è½¯ä»¶å®ç°é€šä¿¡ï¼Œå¬èµ·æ¥å°±æ˜¯ä¸€ä¸ªå¾ˆé…·çš„åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€ä½ ç¼–æ›²æ—¶ä½¿ç”¨çš„MIDIä¿¡å·å®Œå…¨å¯ä»¥ç”±ä»£ç ç”Ÿæˆã€‚å°¤å…¶æ˜¯æœ‰äº†p5å’Œtf.jsä¹‹ç±»çš„å‰ç«¯åº“ï¼Œåœ¨äººæœºäº¤äº’æ—¶å¯ä»¥å°†äº¤äº’æ—¶äº§ç”Ÿçš„ä¿¡å·æ˜ å°„æˆMIDIä¿¡å·ç”ŸæˆéŸ³ä¹ã€‚\nWebMidiåº“å°±æ˜¯ä¸€ä¸ªå¯ä»¥å®ç°JSä¸MIDIè®¾å¤‡é€šä¿¡çš„Javascriptåº“ã€‚ç›¸å½“äºåœ¨æµè§ˆå™¨å’ŒMIDIè®¾å¤‡ä¹‹é—´æ¶èµ·äº†ä¸€åº§æ¡¥æ¢ã€‚æˆ‘ä»¬é€šè¿‡Macbookç³»ç»Ÿè‡ªå¸¦çš„è™šæ‹ŸMIDIè®¾å¤‡IAC Driverå¯ä»¥ç›´æ¥ä¸ç¼–æ›²è½¯ä»¶Logic Proè¿›è¡Œé€šä¿¡ã€‚\n åœ¨ å¯åŠ¨å°-å…¶ä»–ä¸­æ‰¾åˆ°éŸ³é¢‘MIDIè®¾ç½®\n\nCommand+2æ‰“å¼€MIDIå·¥ä½œå®¤çª—å£ï¼Œé€‰å®šBus 1ç«¯å£ï¼ŒApplyï¼\n\nç„¶åæ‰“å¼€Logicï¼Œæ–°å»ºè½¯ä»¶ä¹å™¨è½¨é“ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬é€šè¿‡JSå†™çš„ä»£ç å°±å¯ä»¥é€šè¿‡è™šæ‹ŸMIDIå¯¼å…¥åˆ°Logicä¸­äº†\næ¥ä¸‹æ¥ç¼–å†™ä»£ç ï¼Œå› ä¸ºWebMidiåŸºäºhttpåè®®ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¸€ä¸ªhtmlæ–‡ä»¶æŒ‚åˆ°æœ¬åœ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åå¼•å…¥WebMidiåº“ï¼ŒCDNæˆ–æœ¬åœ°åŒ–åçš†å¯ï¼Œæˆ‘è¿™é‡Œå°†WebMidiæœ¬åœ°åŒ–äº†\n\n\n&lt;script src=\"webmidi.iife.js\"&gt;&lt;/script&gt;\n\nç„¶åä¸ºWebMidiçš„åˆå§‹åŒ–ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œåˆå§‹åŒ–å‡½æ•°å¦‚ä¸‹\n\nfunction init(){    WebMidi.enable(err=&gt;    {        if (err) console.log(err);        WebMidi.outputs.forEach(output=&gt;{          if (output.name===\"IAC Driver Bus 1\")            window.output=output        })      },true)      startLoop()//å¼€å§‹å¾ªç¯}\næ³¨æ„output.nameè¦é€‰å®šä½ çš„è™šæ‹ŸMIDIç«¯å£ï¼Œç„¶ååœ¨startLoopä¸­æˆ‘ä»¬å°±å¯ä»¥ç¼–å†™MIDIæ•°æ®äº†\næˆ‘ä»¬æ¼”å¥ä¸€ä¸ªéŸ³éœ€è¦ç”¨åˆ°output.playNote()æ–¹æ³•ï¼Œè¯¥å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯éŸ³é«˜ï¼ˆNoteï¼‰ï¼Œä½ å¯ä»¥é€‰æ‹©0ï½127ä¹‹é—´ä»»æ„ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ¯”å¦‚\"C#4\"æ¥ä»£è¡¨è¿™ä¸ªéŸ³ï¼Œæˆ–è€…ä¼ å…¥ä¸€ä¸ªNoteå¯¹è±¡ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è½¨é“å‚æ•°ï¼Œè®°å¾—åœ¨Logicä¸­é…ç½®æ¯ä¸ªä¹å™¨çš„è½¨é“åã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­å¯ä»¥ä¿®æ”¹time,attack,duration,releaseç­‰å‚æ•°ï¼Œå’Œæˆ‘ä»¬æ··éŸ³æ—¶è¿™äº›å‚æ•°æ‰€ä»£è¡¨çš„å«ä¹‰åŸºæœ¬ä¸€è‡´ã€‚\nä¸‹é¢æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å†™çš„æ›²å­ï¼Œè‹è”æ—¶æœŸæ–°é—»è”æ’­çš„ä¸»é¢˜æ›²ã€ŠForward Timeã€‹çš„ä¸€ä¸ªå°ç‰‡æ®µï¼Œåˆ¶è°±å‚è€ƒæ²¹ç®¡è§†é¢‘G. Sviridov - Time, Forward! | Piano Tutorial (100,000 special)ã€‚åšäº†ä¸€ä¸ªå°demoï¼Œå†™åˆ°äº†å‰¯æ­Œï¼Œæ„Ÿè§‰æ•ˆæœè¿˜è¡Œã€‚æœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œå»åˆ¶ä½œæ›´æœ‰æ„æ€çš„ä¸éŸ³ä¹æœ‰å…³çš„å‰ç«¯äº¤äº’ä½œå“ä¾¿æˆäº†å¯èƒ½ã€‚\n\nfunction startLoop()    {      var step=1;      var step2=1;      setInterval(()=&gt;{        if (step2/16&lt;12) {          if (step === 1 || step === 9)            output.playNote(\"E2\", 1, {duration: 200, attack: 0.8})          if (step === 3 || step === 11)            output.playNote(\"G2\", 1, {duration: 200, attack: 0.8})          if (step === 5 || step === 13)            output.playNote(\"A#2\", 1, {duration: 200, attack: 0.8})          if (step === 7 || step === 15)            output.playNote(\"C#3\", 1, {duration: 200, attack: 0.8})        }        if ((step2/16&gt;=4 &amp;&amp; step2/16&lt;5)||(step2/16&gt;=6 &amp;&amp; step2/16&lt;7))        {          if (step===1)          {            output.playNote(\"F3\",2,{duration:300,attack:0.9})            output.playNote(\"A#3\",2,{duration:300,attack:0.9})            output.playNote(\"C#3\",2,{duration:300,attack:0.9})          }          if (step===5)          {            output.playNote(\"F3\",2,{duration:50,attack:0.7})            output.playNote(\"A#3\",2,{duration:50,attack:0.7})            output.playNote(\"C#3\",2,{duration:50,attack:0.7})          }          if (step===7)          {            output.playNote(\"F3\",2,{duration:50,attack:0.7})            output.playNote(\"A#3\",2,{duration:50,attack:0.7})            output.playNote(\"C#3\",2,{duration:50,attack:0.7})          }          if (step===8)          {            output.playNote(\"F3\",2,{duration:20,attack:0.7})            output.playNote(\"A#3\",2,{duration:20,attack:0.7})            output.playNote(\"C#3\",2,{duration:20,attack:0.7})          }          if (step===9)          {            output.playNote(\"G3\",2,{duration:40,attack:0.9})            output.playNote(\"C4\",2,{duration:40,attack:0.9})            output.playNote(\"E4\",2,{duration:40,attack:0.9})          }          if (step===11)          {            output.playNote(\"F3\",2,{duration:1100,attack:0.9})            output.playNote(\"A#3\",2,{duration:1100,attack:0.9})            output.playNote(\"C#3\",2,{duration:1100,attack:0.9})          }        }        if (step2/16&gt;=8 &amp;&amp; step2/16&lt;9)        {          if (step===1)          {            output.playNote(\"F3\",2,{duration:300,attack:0.9})            output.playNote(\"A#3\",2,{duration:300,attack:0.9})            output.playNote(\"C#3\",2,{duration:300,attack:0.9})          }          if (step===5)          {            output.playNote(\"F3\",2,{duration:50,attack:0.7})            output.playNote(\"A#3\",2,{duration:50,attack:0.7})            output.playNote(\"C#3\",2,{duration:50,attack:0.7})          }          if (step===7)          {            output.playNote(\"F3\",2,{duration:50,attack:0.7})            output.playNote(\"A#3\",2,{duration:50,attack:0.7})            output.playNote(\"C#3\",2,{duration:50,attack:0.7})          }          if (step===8)          {            output.playNote(\"F3\",2,{duration:20,attack:0.7})            output.playNote(\"A#3\",2,{duration:20,attack:0.7})            output.playNote(\"C#3\",2,{duration:20,attack:0.7})          }          if (step===9)          {            output.playNote(\"G3\",2,{duration:40,attack:0.9})            output.playNote(\"C4\",2,{duration:40,attack:0.9})            output.playNote(\"E4\",2,{duration:40,attack:0.9})          }          if (step===11)          {            output.playNote(\"F3\",2,{duration:800,attack:0.9})            output.playNote(\"A#3\",2,{duration:800,attack:0.9})            output.playNote(\"C#3\",2,{duration:800,attack:0.9})          }        }        if (step2/16&gt;=9 &amp;&amp; step2/16&lt;11)        {          if (step===1)          {            output.playNote(\"G3\",2,{duration:40,attack:0.9})            output.playNote(\"C4\",2,{duration:40,attack:0.9})            output.playNote(\"E4\",2,{duration:40,attack:0.9})          }          if (step===3)          {            output.playNote(\"F3\",2,{duration:800,attack:0.9})            output.playNote(\"A#3\",2,{duration:800,attack:0.9})            output.playNote(\"C#3\",2,{duration:800,attack:0.9})          }          if (step===9)          {            output.playNote(\"G3\",2,{duration:40,attack:0.9})            output.playNote(\"C4\",2,{duration:40,attack:0.9})            output.playNote(\"E4\",2,{duration:40,attack:0.9})          }          if (step===11)          {            output.playNote(\"F3\",2,{duration:800,attack:0.9})            output.playNote(\"A#3\",2,{duration:800,attack:0.9})            output.playNote(\"C#3\",2,{duration:800,attack:0.9})          }        }        if (step2/16&gt;=11 &amp;&amp; step2/16&lt;12)        {          if (step===1)          {            output.playNote(\"G3\",2,{duration:40,attack:0.9})            output.playNote(\"C4\",2,{duration:40,attack:0.9})            output.playNote(\"E4\",2,{duration:40,attack:0.9})          }          if (step===3)          {            output.playNote(\"F3\",2,{duration:800,attack:0.9})            output.playNote(\"A#3\",2,{duration:800,attack:0.9})            output.playNote(\"C#3\",2,{duration:800,attack:0.9})          }        }        if (step2/16&gt;=12 &amp;&amp; step2/16&lt;18)        {          if (step%2===1)          {            output.playNote(\"F#2\",1,{duration:100,attack:0.9})            output.playNote(\"C#3\",1,{duration:100,attack:0.9})            output.playNote(\"F#3\",1,{duration:100,attack:0.9})            output.playNote(\"C#4\",1,{duration:800,attack:0.9})          }        }        if (step2/16&gt;=14 &amp;&amp; step2/16&lt;15)        {          if (step===1) {            output.playNote(\"C#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"C#6\", 2, {duration: 1500, attack: 0.9})          }        }        if (step2/16&gt;=15 &amp;&amp; step2/16&lt;16)        {          if (step===1) {            output.playNote(\"F#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"C#4\", 2, {duration: 1500, attack: 0.9})          }          if (step===5) {            output.playNote(\"F#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"D#5\", 2, {duration: 1500, attack: 0.9})          }          if (step===9) {            output.playNote(\"F#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"D#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})          }          if (step===13)          {            output.playNote(\"A#4\", 2, {duration: 800, attack: 0.9})            output.playNote(\"C#5\", 2, {duration: 800, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 800, attack: 0.9})          }          if (step===16)          {            output.playNote(\"C#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"C#6\", 2, {duration: 1500, attack: 0.9})          }        }        if (step2/16&gt;=16 &amp;&amp; step2/16&lt;17)        {          if (step===1)          {            output.playNote(\"D#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"D#6\", 2, {duration: 1500, attack: 0.9})          }        }        if (step2/16&gt;=16 &amp;&amp; step2/16&lt;17)        {          if (step===1) {            output.playNote(\"C#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"C#6\", 2, {duration: 1500, attack: 0.9})          }        }        if (step2/16&gt;=17 &amp;&amp; step2/16&lt;18)        {          if (step===1) {            output.playNote(\"D#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"D#4\", 2, {duration: 1500, attack: 0.9})          }          if (step===5) {            output.playNote(\"F4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F5\", 2, {duration: 1500, attack: 0.9})          }          if (step===9) {            output.playNote(\"F#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#4\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})          }          if (step===13)          {            output.playNote(\"A#4\", 2, {duration: 800, attack: 0.9})            output.playNote(\"C#5\", 2, {duration: 800, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 800, attack: 0.9})          }          if (step===16)          {            output.playNote(\"C#5\", 2, {duration: 300, attack: 0.9})            output.playNote(\"C#6\", 2, {duration: 300, attack: 0.9})          }        }        if (step2/16&gt;=18 &amp;&amp; step2/16&lt;20)        {          if (step%2===1)          {            output.playNote(\"A#2\",1,{duration:100,attack:0.9})            output.playNote(\"D#3\",1,{duration:100,attack:0.9})            output.playNote(\"F#3\",1,{duration:100,attack:0.9})          }        }        if (step2/16&gt;=18 &amp;&amp; step2/16&lt;19)        {          if (step===1){          output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})          output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})          output.playNote(\"D#5\", 2, {duration: 1500, attack: 0.9})          output.playNote(\"F#6\", 2, {duration: 1500, attack: 0.9})        }}        if (step2/16&gt;=19 &amp;&amp; step2/16&lt;20)        {          if (step===1){            output.playNote(\"D#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"D#6\", 2, {duration: 1500, attack: 0.9})          }          if (step===9){            output.playNote(\"F5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"A#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F6\", 2, {duration: 1500, attack: 0.9})          }        }        if (step2/16&gt;=20 &amp;&amp; step2/16&lt;21)        {          if (step===1){            output.playNote(\"C#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"F5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"G#5\", 2, {duration: 1500, attack: 0.9})            output.playNote(\"C#6\", 2, {duration: 1500, attack: 0.9})          }}        if (step2/16&gt;=20 )        {          if (step%2===1)          {            output.playNote(\"C#2\",1,{duration:100,attack:0.9})            output.playNote(\"C#3\",1,{duration:100,attack:0.9})          }        }step++;        if (step&gt;16)step=1;        step2++;       // step2++;        //if (step2&gt;32) step2=1      },100)    }","categories":["å¤§å‰ç«¯"],"tags":["å‰ç«¯","Javascript","éŸ³ä¹","ç¼–æ›²"]},{"title":"hello-world","url":"/2022/03/18/hello-world/","content":"å¥½åƒæœ‰é‚£ä¹ˆå‡ å¹´ä¸å†™blogäº†...ä¸ºäº†ç£ä¿ƒè‡ªå·±ç»§ç»­åŠªåŠ›åˆ·é¢˜/å­¦ä¹ è¿˜æ˜¯åœ¨è¿™é‡Œå¼€äº†ä¸€ä¸ªï¼Œgithub.ioçœŸçš„æ–¹ä¾¿ï¼Œä¼šåœ¨è¿™é‡Œè®°å½•ä¸€äº›å­¦ä¹ çš„å†ç¨‹å’Œå„ç§ç¢ç¢å¿µã€‚é‚£ä¹ˆç»§ç»­æ¸©æŸ”åœ°æ¨ç¿»è¿™ä¸ªä¸–ç•Œå§ï½\n#include &lt;bits/stdc++.h&gt;int main(){    std:cout&lt;&lt;\"Hello World\"&lt;&lt;endl;}","categories":["ç”Ÿæ´»å’Œç¢ç¢å¿µ"],"tags":["ç¢ç¢å¿µ"]},{"title":"æµ™å·¥å¤§æ ¡èµ›-puzzle-Hash","url":"/2022/03/22/22-3-puzzle/","content":"\né¢˜ç›®å¤§æ„\n\n    ç»™ä¸‰ä¸ªé•¿åº¦ä¸ºn(1&lt;=n&lt;=100 000)çš„æ•°ç»„A,B,Cã€‚å¯ä»¥å°†Aæ•°ç»„æˆ–è€…Bæ•°ç»„å·¦ç§»ï¼Œæ¯æ¬¡ç§»åŠ¨è®°ä¸€æ¬¡æ“ä½œï¼Œé—®æœ€å°‘å¤šå°‘æ¬¡æ“ä½œå¯ä»¥ä½¿å¾—Ai+Bi=Ciï¼Œå¦åˆ™æ‰£-1ã€‚\n\né¢˜è§£\n\n æ¯”èµ›çš„æ—¶å€™è„‘å­æŠ½äº†...æ¨äº†ä¸€ä¸ªéå……è¦æ¡ä»¶ï¼Œç„¶åçœ‹æœ‰ç‚¹å‡ï¼Œæƒ³æƒ³ä¼šä¸ä¼šæ˜¯å­—ç¬¦ä¸²ç›¸å…³çš„é¢˜ï¼Œç„¶åå»åšæ ¸é…¸äº†ã€‚\n\n\n    åæ¥å‘ç°å¾ˆå‡ï¼Œç›´æ¥ç¯å½¢å“ˆå¸Œå°±å®Œäº‹å„¿äº†ã€‚å¸¦ä¸Šmapå¤æ‚åº¦æ˜¯çš„ã€‚\n\n//This amazing code is written by Primo.Jay.Pan From CUC//Any questions please contact me//QQ:898021802//Mail: primojpan@gmail.com//.    primojaypan@cuc.edu.cn// Untitled 3.txt// Created by Primo Jay Pan on 2022/3/22.//While (true) RP++;//head#include &lt;iostream&gt;#include &lt;algorithm&gt;#include &lt;bitset&gt;#include &lt;complex&gt;#include &lt;cstdio&gt;#include &lt;csignal&gt;#include &lt;cstdlib&gt;#include &lt;cstring&gt;#include &lt;ctime&gt;#include &lt;deque&gt;#include &lt;map&gt;#include &lt;queue&gt;#include &lt;set&gt;#include &lt;stack&gt;#include &lt;string&gt;#include &lt;vector&gt;#define ll long long#define ull unsigned long long#define pb push_back#define mp make_pair#define pii pair&lt;int,int&gt;#define pll pair&lt;ll,ll&gt;#define INF 0x3f3f3f3f#define maxlongint 2147483647#define maxint 32767#define pi(double)acos(-1.0)#define eps 1e-9#define MID ((l+r)&gt;&gt;1)#define lson (o&lt;&lt;1)#define rson (o&lt;&lt;1|1)//clear the array#define cla(a) memset(a,0,sizeof(a))#define clb(a) memset(a,INF,sizeof(a))#define clc(a) memset(a,-1,sizeof(a))using namespace std;const ull mod=998244353;const int maxn =100010; ull A[maxn],B[maxn],C[maxn],base[maxn];map&lt;ull , int &gt; MP;int n;inline void init(){\tbase[0]=1;\tfor (int i=1;i&lt;=n;i++)\t\tbase[i]=base[i-1]*mod;\t}int ans=mod;//mainint main(){\t//freopen(\"Untitled 3.txt.in\",\"r\",stdin);\t//freopen(\"Untitled 3.txt.out\",\"w\",stdout);\tcin&gt;&gt;n;\tinit();\tfor (int i=1;i&lt;=n;i++)\t{\t\tcin&gt;&gt;A[i];\t\tA[i]=A[i-1]*mod+A[i];\t}\tfor (int i=1;i&lt;=n;i++)\t{\t\tcin&gt;&gt;B[i];\t\tB[i]=B[i-1]*mod+B[i];\t}\tfor (int i=1;i&lt;=n;i++)\t\t{\t\t\tcin&gt;&gt;C[i];\t\t\tC[i]=C[i-1]*mod+C[i];\t\t}\tfor (int i=0;i&lt;n;i++)\t{\t\tull cur=(A[n]-A[i]*base[n-i])*base[i]+A[i];\t\tMP[cur]=i;//Aå·¦ç§»åŠ¨iä½\t}\tfor (int i=0;i&lt;n;i++)\t{\t\tull cur=(B[n]-B[i]*base[n-i])*base[i]+B[i];//Bå·¦ç§»åŠ¨nä½\t\tif (MP.count(C[n]-cur))\t\t\tans=min(ans,MP[C[n]-cur]+i);\t\t\t}\tcout&lt;&lt;((ans==mod)?-1:ans)&lt;&lt;endl;\treturn 0;}/*Test Data1:Test Data2:*/\n\n\n","categories":["ç®—æ³•ç«èµ›"],"tags":["Hash","æš´åŠ›","æ¯”èµ›"]},{"title":"Reactå­¦ä¹ ç¬”è®°(1) ç±»å¼ç»„ä»¶ç›¸å…³","url":"/2022/03/22/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-1/","content":"\n    å¾…å¡«å‘\n\n\n    22.2.28 updated\n\n\n\n\n    prop-types\n\n\n    ç”¨äºé™å®špropsçš„æ•°æ®ç±»å‹\n\n\nimport PropTypes from 'prop-types';class Greeting extends React.Component {  render() {    return (      &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;    );  }}Greeting.propTypes = {  name: PropTypes.string};","categories":["å¤§å‰ç«¯"],"tags":["Javascript","å¤§å‰ç«¯","React"]},{"title":"Google Code Jam 2022-QR-T4-Chain Reactions","url":"/2022/04/03/gcj22ET4/","content":"\n    é¢˜é¢\n\n\nProblem\nWile lives alone in the desert, so he entertains himself by building complicated machines that run on chain reactions. Each machine consists of N modules indexed 1,2,â€¦,N. Each module may point at one other module with a lower index. If not, it points at the abyss.\n\nModules that are not pointed at by any others are called initiators. Wile can manually trigger initiators. When a module is triggered, it triggers the module it is pointing at (if any) which in turn may trigger a third module (if it points at one), and so on, until the chain would hit the abyss or an already triggered module. This is called a chain reaction.\nEach of the N modules has a fun factor Fi. The fun Wile gets from a chain reaction is the largest fun factor of all modules that triggered in that chain reaction. Wile is going to trigger each initiator module once, in some order. The overall fun Wile gets from the session is the sum of the fun he gets from each chain reaction.\nFor example, suppose Wile has 4 modules with fun factors F1=60,F2=20,F3=40, and F4=50 and module 1 points at the abyss, modules 2 and 3 at module 1, and module 4 at module 2. There are two initiators (3 and 4) that Wile must trigger, in some order.\nExample in statement when activating 4 then 3.\nAs seen above, if Wile manually triggers module 4 first, modules 4, 2, and 1 will get triggered in the same chain reaction, for a fun of max(50,20,60)=60. Then, when Wile triggers module 3, module 3 will get triggered alone (module 1 cannot get triggered again), for a fun of 40, and an overall fun for the session of 60+40=100.\nExample in statement when activating 3 then 4.\nHowever, if Wile manually triggers module 3 first, modules 3 and 1 will get triggered in the same chain reaction, for a fun of max(40,60)=60. Then, when Wile triggers module 4, modules 4 and 2 will get triggered in the same chain reaction, for a fun of max(50,20)=50, and an overall fun for the session of 60+50=110.\nGiven the fun factors and the setup of the modules, compute the maximum fun Wile can get if he triggers the initiators in the best possible order.\nInputThe first line of the input gives the number of test cases, T. T test cases follow, each described using 3 lines. Each test case starts with a line with a single integer N, the number of modules Wile has. The second line contains N integers F1,F2,â€¦,FN where Fi is the fun factor of the i-th module. The third line contains N integers P1,P2,â€¦PN. If Pi=0, that means module i points at the abyss. Otherwise, module i points at module Pi.\nOutputFor each test case, output one line containing Case #x: y, where x is the test case number (starting from 1) and y is the maximum fun Wile can have by manually triggering the initiators in the best possible order.\nLimitsMemory limit: 1 GB.1â‰¤Tâ‰¤100.1â‰¤Fiâ‰¤109.0â‰¤Piâ‰¤iâˆ’1, for all i.Test Set 1 (Visible Verdict)Time limit: 5 seconds.1â‰¤Nâ‰¤10.Test Set 2 (Visible Verdict)Time limit: 5 seconds.1â‰¤Nâ‰¤1000.Test Set 3 (Hidden Verdict)Time limit: 10 seconds.1â‰¤Nâ‰¤100000.SampleSample Inputsave_altcontent_copy3460 20 40 500 1 1 253 2 1 4 50 1 1 1 08100 100 100 90 80 100 90 1000 1 2 1 2 3 1 3Sample Outputsave_altcontent_copyCase #1: 110Case #2: 14Case #3: 490Sample Case #1 is the one explained in the problem statement.\nIn Sample Case #2, there are 4 initiators (modules 2 through 5), so there are 4 chain reactions. Activating them in order 3,5,4,2 yields chains of fun 3,5,4,2 for an overall fun of 14. Notice that we are summing the four highest fun numbers in the input, so there is no way to get more than that.\nIn Sample Case #3, an optimal activation order of the 5 initiators is 4,5,7,6,8.\n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    ç»™ä½ ä¸€å¤§å¨ç‚¹å¸¦æƒçš„æ£®æ—ã€‚å¯¹äºæ¯æ£µæ ‘ï¼Œæ¯ä¸€æ¬¡é€‰æ‹©ä¸€ä¸ªå¶å­ç»“ç‚¹ä¸€è·¯èµ°åˆ°æ ¹ï¼Œå¯¹ç­”æ¡ˆçš„è´¡çŒ®æ˜¯è¿™æ¡è·¯å¾„ä¸Šçš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”èµ°å®Œä¹‹åè·¯å¾„ä¸Šçš„ç‚¹æƒå°±åºŸäº†ã€‚å¯ä»¥çŸ¥é“æ”¹å˜é€‰æ‹©å¶å­ç»“ç‚¹çš„é¡ºåºä¼šå¾—åˆ°ä¸åŒçš„ç­”æ¡ˆã€‚ç°åœ¨æ±‚æ•´ä¸ªæ£®æ—å¾—åˆ°çš„æœ€å¤§ç­”æ¡ˆæ˜¯å•¥ã€‚\n\n\n\n    æ€è·¯\n\n\n\n    å†™å®Œä¸‰é¢˜è¿‡å…³å°±æ²¡çœ‹åé¢çš„ï¼Œè¿™ä¸¤å¤©è¡¥ä¸€ä¸‹ã€‚\n\n\n\n    æ£®æ—é‡Œæ¯æ£µæ ‘æ˜¯ç‹¬ç«‹çš„ã€‚åˆ†æ²»ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå­¤ç«‹çš„ç‚¹ï¼Œç­”æ¡ˆå°±æ˜¯æœ¬èº«çš„æƒå€¼ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªå„¿å­ï¼Œè®°ä¸€ä¸ªç»“ç‚¹çš„ç­”æ¡ˆæ˜¯f(i)ï¼Œé‚£ä¹ˆå¯¹äºçˆ¶äº²uï¼Œç­”æ¡ˆå°±æ˜¯max{val[u],f(i)}ã€‚\n\n\n\n    å½“æœ‰å¤šä¸ªå„¿å­çš„æ—¶å€™ï¼Œå…¶å®å°±æŒ‰ç…§é¢˜é¢é‚£ä¸ªåŠ¨æ€å›¾çš„æ„æ€æå°±è¡Œï¼ˆè°·æ­Œç”¨æˆ·ä½“éªŒç‰›é€¼ï¼Œå¹ä¸€æŠŠï¼Œé¢˜é¢éƒ½ä¼šåŠ¨ï¼Œå¤ªè‰¯å¿ƒäº†ï¼‰ã€‚å…¶å®è¿™ä¸ªæ—¶å€™å°±æ˜¯é’ˆå¯¹æ‰€æœ‰å„¿å­ï¼Œé€‰ä¸­çš„ç¬¬ä¸€ä¸ªå°±ä¼šæŠŠå½“å‰ç»“ç‚¹çš„å€¼è·‘æ‰ã€‚æˆ‘ä»¬å·²ç»dfså®Œäº†æ‰€æœ‰å„¿å­ï¼Œå¯ä»¥æ„ä¼šåˆ°ï¼Œè´ªå¿ƒåœ°é€‰æ‹©æœ€å°çš„ä¸€ä¸ªç­”æ¡ˆï¼ŒæŠŠå®ƒå’Œval[u]æ¯”ä¸€ä¸‹å¤§å°ã€‚å¦‚æœæ¯”val[u]æ¥å¾—å¤§ï¼Œé‚£ä¹ˆval[u]è‚¯å®šå¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®ã€‚å¦‚æœæ¯”val[u]å°ï¼Œé‚£ä¹ˆç›¸å½“äºval[u]é¡¶æ›¿æ‰æœ€å°çš„é‚£ä»½ç­”æ¡ˆï¼Œè€Œå…¶ä»–æ¯”ä¹‹å¤§çš„ç­”æ¡ˆéƒ½åº”è¯¥ç›´æ¥è´¡çŒ®åˆ°æœ€åçš„ansé‡Œã€‚\n\n\n#include &lt;bits/stdc++.h&gt;#define ll long longusing namespace std;const ll N=100005;ll vis[N],val[N];vector&lt;ll&gt; G[N];ll n,ans,f;ll dfs(ll u,ll fa){    vis[u]=1;    vector&lt;ll&gt; dp;    ll sz=G[u].size();    for (ll i=0;i&lt;sz;i++)    {        ll v=G[u][i];        ll p=dfs(v,u);        dp.push_back(p);    }    sort(dp.begin(),dp.end());    if (sz==0)        return val[u];    for (ll i=1;i&lt;sz;i++)        ans+=dp[i];    return max(dp[0],val[u]);}int main(){    ll T;    cin&gt;&gt;T;    for (ll t=1;t&lt;=T;t++)    {        cin&gt;&gt;n;        for (ll i=1;i&lt;=n;i++)            cin&gt;&gt;val[i];        for (ll i=1;i&lt;=n;i++)            G[i].clear();        for (ll i=1;i&lt;=n;i++)        {            ll fa;            cin&gt;&gt;fa;            G[fa].push_back(i);        }        f=ans=0;        memset(vis,0,sizeof(vis));        for (ll i=1;i&lt;=n;i++)        {            if (!vis[i])                f+=dfs(i,-1);        }        ans=ans+f;        cout&lt;&lt;\"Case #\"&lt;&lt;t&lt;&lt;\": \";        cout&lt;&lt;ans&lt;&lt;endl;    }}","categories":["ç®—æ³•ç«èµ›"],"tags":["æ¯”èµ›","Google Code Jam","è´ªå¿ƒ","åˆ†æ²»"]},{"title":"Reactå­¦ä¹ ç¬”è®°(2) Hooks","url":"/2022/04/03/react2/","content":"\n    22.4.3 updated\n\n\n    å…³äºhooks\n\n\n    React16.8çš„ç‰ˆæœ¬æ›´æ–°äº†HooksåŠŸèƒ½ã€‚æ„å‘³ç€å‡½æ•°å¼ç»„ä»¶ä¹Ÿå¯ä»¥æ‹¥æœ‰stateå±æ€§ã€‚è‡ªæ­¤ï¼Œç±»å¼ç»„ä»¶åŸºæœ¬å®Œå…¨å¯ä»¥è¢«å‡½æ•°å¼ç»„ä»¶æ›¿ä»£ã€‚ï¼ˆé™¤éè¦åˆ©ç”¨ç”Ÿå‘½å‘¨æœŸè¿›è¡Œä¸€äº›éªšæ“ä½œï¼‰ã€‚è¿™ä¹Ÿè®©åˆ©ç”¨Reactè¿›è¡Œçš„å¼€å‘æ›´è´´è¿‘\"å‡½æ•°å¼ç¼–ç¨‹\"çš„æ½®æµã€‚\n\n\n\n  useState()\n\n\nfunction App() {  const [value,setValue]= useState(0);  return (      &lt;div&gt;         &lt;button onClick={()=&gt;{           setValue(value+1)         }}&gt;click to add 1&lt;/button&gt;        &lt;div&gt;           value={value}        &lt;/div&gt;      &lt;/div&gt;  );}//æ³¨æ„åˆ°å¦‚ä¸Šä»£ç ä½¿ç”¨äº†useState//[]ä¸­ä¸¤ä¸ªå‚æ•°//ç¬¬ä¸€ä¸ªç›¸å½“äºclassä¸­stateä¸­çš„ä¸€ä¸ªå±æ€§ï¼ˆå˜é‡ï¼‰ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼ˆå‡½æ•°ï¼‰ï¼Œç”¨ä»¥æ”¹å˜è¿™ä¸ªå±æ€§çš„å€¼ã€‚//useState()æ‹¬å·ä¸­ä¸ºè¯¥å±æ€§çš„åˆå§‹å€¼//å½“æˆ‘ä»¬éœ€è¦æ”¹å˜valueçš„å€¼æ—¶ï¼Œåœ¨classä¸­this.setState({value:this.state.value+1})//è€Œåœ¨hooksä¸­ç›´æ¥setValue(value+1)//ä¸è¦å¤ªæ–¹ä¾¿ï¼Œä¸”çœå»äº†å„ç§thisæ¥thiså»\n\n\n  ä¸è¿‡æ¥ç‚¹é¢è¯•é¢˜ä¼šå‘ç°å…¶å®çœ‹ä¸Šå»ç®€å•çš„ä¸œè¥¿ä¹Ÿä¼šæœ‰å¾ˆå¤šåç›´è§‰çš„å‘ã€‚å¸ˆå“¥ç»™æˆ‘ä¸¢äº†ä¸€é“ã€‚\n\n\nfunction App() {    const [n, setN] = useState(0);     return (          &lt;div&gt;            &lt;h1&gt;{n}&lt;/h1&gt;            &lt;button onClick={() =&gt; setN(x =&gt; x + 1)}&gt;+1&lt;/button&gt;            &lt;button onClick={() =&gt; setTimeout(() =&gt; console.log(n), 3000)}&gt;log&lt;/button&gt;          &lt;/div&gt;        )}//å…ˆç‚¹logï¼Œç„¶åç«‹å³ç‚¹+1,3såä¼šæ‰“å°å‡ºå•¥//ç­”æ¡ˆæ˜¯0//å› ä¸ºå‡½æ•°å¼ç»„ä»¶åœ¨+1åè¿›è¡Œäº†åˆ·æ–°ï¼Œç›¸å½“äºé‡æ–°æ‰§è¡Œäº†ä¸€ä¸‹è¿™ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„n//ä½†æ˜¯console.logä¸­çš„næ˜¯é€šè¿‡é—­åŒ…æ•è·çš„ï¼Œå‡½æ•°ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶çš„n,æ‰€ä»¥æ— è®ºå‡½æ•°å†æ€ä¹ˆè¢«ç¿»æ±Ÿå€’æµ·//æ‰“å°å‡ºçš„å€¼å§‹ç»ˆæ˜¯ç¬¬ä¸€æ¬¡çš„n\n\n\n    useEffect()\n","categories":["å¤§å‰ç«¯"],"tags":["Javascript","å¤§å‰ç«¯","React"]},{"title":"Codeforces 1660F Promising String (hard version) æ‰¾è§„å¾‹+å‰ç¼€å’Œ","url":"/2022/04/05/cf1660F/","content":"\n    é¢˜é¢\n\n\n\nF2. Promising String (hard version)\ntime limit per test2 seconds\nmemory limit per test256 megabytes\ninputstandard input\noutputstandard output\nThis is the hard version of Problem F. The only difference between the easy version and the hard version is the constraints.\n\nWe will call a non-empty string balanced if it contains the same number of plus and minus signs. For example: strings â€œ+â€“+â€ and â€œ++-+â€“â€ are balanced, and strings â€œ+â€“â€, â€œâ€“â€ and â€œâ€ are not balanced.\nWe will call a string promising if the string can be made balanced by several (possibly zero) uses of the following operation:\nreplace two adjacent minus signs with one plus sign.In particular, every balanced string is promising. However, the converse is not true: not every promising string is balanced.\nFor example, the string â€œ-+â€”â€œ is promising, because you can replace two adjacent minuses with plus and get a balanced string â€œ-++-â€œ, or get another balanced string â€œ-+-+â€.\nHow many non-empty substrings of the given string ğ‘  are promising? Each non-empty promising substring must be counted in the answer as many times as it occurs in string ğ‘ .\nRecall that a substring is a sequence of consecutive characters of the string. For example, for string â€œ+-+â€ its substring are: â€œ+-â€œ, â€œ-+â€, â€œ+â€, â€œ+-+â€ (the string is a substring of itself) and some others. But the following strings are not its substring: â€œâ€“â€, â€œ++â€, â€œ-++â€.\nInputThe first line of the input contains an integer ğ‘¡ (1â‰¤ğ‘¡â‰¤104) â€”the number of test cases in the test.\nThen the descriptions of test cases follow.\nEach test case of input data consists of two lines. The first line consists of the number ğ‘› (1â‰¤ğ‘›â‰¤2â‹…105): the length of ğ‘ .\nThe second line of the test case contains the string ğ‘  of length ğ‘›, consisting only of characters â€œ+â€ and â€œ-â€œ.\nIt is guaranteed that the sum of values ğ‘› over all test cases does not exceed 2â‹…105.\nOutputFor each test case, print a single number: the number of the promising non-empty substrings of string ğ‘ . Each non-empty promising substring must be counted in the answer as many times as it occurs in string ğ‘ .\nExampleinputCopy53+-+5-+â€”4\n\n7â€“+â€”+6+++â€”outputCopy24274NoteThe following are the promising substrings for the first three test cases in the example:\nğ‘ [1â€¦2]=â€+-â€œ, ğ‘ [2â€¦3]=â€-+â€;ğ‘ [1â€¦2]=â€-+â€, ğ‘ [2â€¦3]=â€+-â€œ, ğ‘ [1â€¦5]=â€-+â€”â€œ, ğ‘ [3â€¦5]=â€â€”â€œ;ğ‘ [1â€¦3]=â€â€”â€œ, ğ‘ [2â€¦4]=â€â€”â€œ.\n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnï¼ŒåªåŒ…å«+-ç¬¦å·çš„å­—ç¬¦ä¸²ã€‚è¿ç»­ä¸¤ä¸ª-å¯ä»¥åˆå¹¶æˆä¸€ä¸ª+ã€‚é—®ä½ è¯¥å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘å­ä¸²æ»¡è¶³ï¼Œç»è¿‡ä¸€äº›åˆå¹¶ï¼ˆæˆ–æ²¡æœ‰åˆå¹¶ï¼‰åå­ä¸²ä¸­+-å·æ•°é‡ç›¸ç­‰ã€‚\n\n\n\n    é¢˜è§£\n\n\n\n    \n        ä¸Šç»“è®ºï¼š\n    \n    å­ä¸²ä¸­-çš„ä¸ªæ•°æ¯”+å¤šï¼Œä¸”å·®å€¼æ˜¯3çš„å€æ•°ï¼Œåˆ™è®°ä¸€æ¬¡è´¡çŒ®ã€‚\n\n\n\n    é¦–å…ˆæ ¹æ®ç‹„åˆ©å…‹é›·åŸç†ï¼ˆæŠ½å±‰åŸç†ï¼‰ï¼Œå¦‚æœ-çš„ä¸ªæ•°æ¯”+å¤šäº2ä¸ªå³ä¸€å®šæœ‰ä¸¤ä¸ª-ç›¸è¿ã€‚å¹¶ä¸”è¿›è¡Œä¸€æ¬¡æ“ä½œåï¼Œ+-å·çš„å·®å¼‚åº¦ä¼š+3ã€‚é‚£ä¹ˆå°±å¯ä»¥è¿›è¡Œå¾ˆå¤šæ¬¡æ“ä½œå°†å·®å¼‚åº¦å˜ä¸º0ã€‚\n\n\n\n    è¿™é¢˜æœ‰å°æ•°æ®ï¼Œé‚£ä¹ˆå¯¹äºå°æ•°æ®ï¼ŒO(n^2)çš„æš´åŠ›ä¸ºï¼ˆå‡è®¾ä¸€å¼€å§‹å·®å¼‚åº¦ä¸ºnï¼‰ã€‚\n\n\ncur=n;for (int i=0;i&lt;n;i++){    cur+=(s[i]=='+')?1:-1;    dp[i]=cur;    for (int j=0;j&lt;i;j++)        if (s[j]&gt;s[i] &amp;&amp; (s[j]-s[i])%3==0)            ans++;//[j,i]ä¸ºåˆç†åŒºé—´}\n\n\n    è€ƒè™‘ä¼˜åŒ–è¿™ä¸ªçš„æš´åŠ›ï¼Œå¦‚æœæŠŠcuræ¨¡3 ï¼Œé‚£ä¹ˆå½“å‰å³ç«¯ç‚¹çš„è´¡çŒ®å°±æ˜¯å·¦ä¾§æ‰€æœ‰æ¯”å®ƒå¤§çš„%3å‰©ä½™ç³»çš„å€¼ã€‚çœ‹åˆ°å¾ˆå¤šäººå†™äº†ä¸€ä¸ªlogçº§çš„æ•°æ®ç»“æ„ï¼Œä½†è§‚å¯Ÿåˆ°å·®å¼‚åº¦æœ€å¤§å€¼ä¸º2n-1ï¼Œä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ç›´æ¥å¯ä»¥å¼€ä¸ªè¡¨è®°å½•ä¸€ä¸‹ï¼ŒO(n)æŸ¥è¯¢ã€‚\n\n\ninline void solve(){\tint n;\tcin&gt;&gt;n;\tstring s;\tcin&gt;&gt;s;\tint lim=2*n+1;\tint lst=n;\tvector&lt;int&gt; f (3,0);\tvector&lt;int&gt; cnt (lim,0);\tf[lst%3]++;\tcnt[lst]++;\tll ans=0;\tfor (int i=0;i&lt;n;i++)\t{\t\tint cur=lst;\t\tif (s[i]=='+')\t\t{\t\t\tf[cur%3]-=cnt[cur];//æ¯”curå°çš„ä¸èƒ½ç”¨äº†\t\t\tcur++;\t\t\tans+=f[cur%3];\t\t\tf[cur%3]++;\t\t\tcnt[cur]++;\t\t}\t\telse{\t\t\tcur--;\t\t\tf[cur%3]+=cnt[cur];//å°äºç­‰äºcurçš„éƒ½èƒ½ç”¨\t\t\tans+=f[cur%3];\t\t\tf[cur%3]++;\t\t\tcnt[cur]++;\t\t}\t\tlst=cur;\t}\tcout&lt;&lt;ans&lt;&lt;endl;}\n","categories":["ç®—æ³•ç«èµ›"],"tags":["Codeforces","å‰ç¼€å’Œ","å­—ç¬¦ä¸²","æ‰¾è§„å¾‹"]},{"title":"ICPC2022æ˜†æ˜ç«™è¡¥é¢˜","url":"/2022/04/22/icpc2022Kunming/","content":"\n    K. King of Gamers\n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    ç»™äº†ä½ ä¸€ä¸ªçš„æ¯”ä¾‹ï¼Œä»ç¬¬1æ¬¡å¼€å§‹ï¼Œä¹‹å‰\nèƒœåˆ©æˆ–å¤±è´¥éƒ½ç»Ÿè®¡è¿›å»ï¼Œæœ‰ä¸€ä¸ªè·èƒœæ¯”ã€‚å¦‚æœå½“å‰çš„\næ¯”ä¾‹æ¯”ç»™å‡ºçš„æ¯”ä¾‹å¤§ï¼Œé‚£ä¹ˆå°±ä¼šè¿™ä¸€æ¬¡å°±ä¼šè¾“ï¼Œåä¹‹å°±èµ¢ï¼Œé—®næ¬¡æ¯”èµ›æœ€åçš„èƒœåˆ©æ¬¡æ•°ã€‚\n\n\n    Solution\n\n\n\n    ç­¾åˆ°é¢˜ï¼Œæ‰“è¡¨å¯çŸ¥ã€‚æ•°å­¦æ¨ç†çš„è¯ï¼Œå‡è®¾æœ€åçš„ç­”æ¡ˆæ˜¯xï¼Œå¯ä»¥çŸ¥é“åˆ†æ¯æ˜¯nã€‚\n    æœ‰ï¼Œç§»ä¸€ä¸‹é¡¹\n    æœ‰ï¼ŒæŠŠxä»£è¿›n-1ï¼Œå»åˆ¤æ–­ä¸€ä¸‹æœ€åä¸€æ¬¡ğŸ‰‘ï¸ä¸ğŸ‰‘ï¸ã€‚\n    çœå»æ£€éªŒçš„è¯å¯ä»¥å‘ç°æœ€åç­”æ¡ˆæ˜¯\n\n\n#include &lt;bits/stdc++.h&gt;#define ll long longusing namespace std;int T;ll n,a,b;int main(){    cin&gt;&gt;T;    while (T--)    {        cin&gt;&gt;n&gt;&gt;a&gt;&gt;b;        ll ans=(n-1)*a/b+1;        cout&lt;&lt;ans&lt;&lt;endl;    }}\n\n\n\n    D. Divisions\n\n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    æ„é€ ä¸€ä¸ªåºåˆ—ï¼Œè¿™ä¸ªåºåˆ—å¯ä»¥è¢«åˆ†ä¸ºä¸€ä¸ªéå‡å’Œä¸€ä¸ªéé™çš„è‡ªåºåˆ—ã€‚\nç°åœ¨è¦æ±‚ä½ æ„é€ çš„è¿™ä¸ªåºåˆ—ä¸€å…±æœ‰kç§ä¸åŒçš„åˆ†æ³•ã€‚\n\n\n    Solution\n\n\n    0æˆ–1çš„æ—¶å€™ç³Šä¸¤ä¸ªæ•°æ®ç‰¹åˆ¤ä¸€ä¸‹ã€‚\n\n\n    å‰©ä¸‹çš„æ•°æ®ï¼Œè€ƒè™‘æ„é€ ã€‚å¦‚æœæ•´ä¸ªåºåˆ—æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆæ˜¾ç„¶ç­”æ¡ˆåªæœ‰ä¸€ç§åˆ†æ³•,{}{}ã€‚æˆ‘ä»¬ç°åœ¨åŠ å…¥ç¬¬ä¸€ä¸ªæ•°è¿›æ¥ï¼Œå‡å¦‚æ˜¯1ï¼Œå¯ä»¥æ”¾åœ¨å·¦å³ä»»æ„ä¸€ä¸ªé›†åˆä¸­ï¼Œç­”æ¡ˆæ˜¯2ã€‚\n    åœ¨åˆšæ‰çš„2ä¸ªé›†åˆçš„åŸºç¡€ä¸Šï¼Œå¯ä»¥æ”¾è¿›ä»»æ„ä¸€ä¸ªé›†åˆé‡Œï¼ŒåˆæŠŠç­”æ¡ˆ*2ã€‚æ‰€ä»¥è¿™æ ·å¯ä»¥å‡‘å‡ºæ‰€æœ‰ç§ã€‚è€ƒè™‘éçš„æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬åŠ ä¸€ä¸ªæ¯”ä¹‹å‰æ‰€æœ‰æ•°éƒ½è¦å¤§çš„æ•°ã€‚å¯ä»¥çŸ¥é“\n    å¦‚æœè¦æŠŠæ–°çš„é‚£ä¸ªæ•°å¡è¿›éé™åºåˆ—ï¼Œå¿…é¡»æŠŠéé™åºåˆ—æ¸…ç©ºï¼Œæ‰€ä»¥ç­”æ¡ˆä¼šæ¯”åˆšæ‰å¤š1ã€‚\n    è¿™ä¸ªæ—¶å€™å¦‚æœå†åŠ ä¸€ä¸ª2è¿›æ¥ï¼Œç­”æ¡ˆä¼š+2ï¼Œç„¶åæ˜¯+4ã€‚å¦‚æœå†åŠ ä¸€ä¸ªæ¯”2å¤§çš„æ•°è¿›æ¥ï¼Œé‚£ä¹ˆåˆåå¤ä»1å¼€å§‹è®¡ç®—ã€‚å¦‚æ­¤ä¸€æ¥å°±å¯ä»¥æŠŠæ‰€æœ‰çš„æ¸…ç©ºéƒ½è¦†ç›–è¿›å»äº†ã€‚\n\n\n#include &lt;bits/stdc++.h&gt;#define ll long longusing namespace std;int T;ll n,a,b;int main(){   cin&gt;&gt;n;   if (n==0)   {       puts(\"4\");       puts(\"8 9 4 6\");       return 0;   }   if (n==1)   {       puts(\"6\");       puts(\"1 1 4 5 1 4\");       return 0;   }   ll st=1,cur=0,ans=1;   vector&lt;int&gt; G;   while (ans&lt;n)   {       if (ans+(1ll&lt;&lt;cur)&lt;=n)       {           ans+=(1&lt;&lt;cur);           cur++;           G.push_back(st);       }       else{           st++;           cur=0;       }   }   int L=G.size();   cout&lt;&lt;L&lt;&lt;endl;   for (int i=0;i&lt;L;i++)       cout&lt;&lt;G[i]&lt;&lt;\" \";   return 0;}\n\n\n    F.Find the Maximum\n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    ç»™ä½ ä¸€æ£µç‚¹å¸¦æƒçš„æ ‘ã€‚è®©ä½ æ‰¾å‡ºä¸€æ¡è·¯å¾„ã€‚è·¯å¾„ä¸Šæ‰€æœ‰ç‚¹æƒçš„å¹³å‡å€¼æ˜¯aveï¼Œç°åœ¨è¦ä½ æ±‚æ•´ä¸ªæ ‘çš„æœ€å¤§çš„\n    \n\n\n    Solution\n\n\n å¥—äº†å±‚çš®ï¼Œé‚£ä¸ªäºŒæ¬¡å‡½æ•°çš„xå°±ç›´æ¥æ‰¾é¡¶ç‚¹å°±è¡Œäº†ã€‚å®é™…ä¸Šå°±æ˜¯æ‰¾æ ‘ä¸Šå¹³å‡å€¼ï¼ˆçš„ç»å¯¹å€¼ï¼‰æœ€å¤§çš„ä¸€æ¡è·¯å¾„ã€‚ç„¶åå¯ä»¥äºŒåˆ†ï¼Œä½†è¿™é¢˜å¯ä»¥ç»™å‡ºä¸€ä¸ªå¼•ç†ï¼Œå°±æ˜¯æ ‘ä¸Šè·¯å¾„å¹³å‡å€¼æœ€å¤§çš„è¯ç»“ç‚¹ä¸€å®šä¸ä¼šè¶…è¿‡3ä¸ªã€‚\n æ¯”å¦‚è¯´ç°åœ¨æœ‰äº†9ï¼Œ8ï¼Œ9ã€‚é‚£ä¹ˆå†åŠ ä¸€ä¸ªå¦‚æœæ˜¯9ï¼Œé‚£ä¹ˆç›´æ¥9,9å°±æœ€å¤§äº†ï¼Œå¦‚æœæ¯”9æ¥å¾—å°ï¼Œé‚£ä¹ˆè¿˜ä¸å¦‚9ï¼Œ8ï¼Œ9æ¥å¾—ä¼˜ã€‚åŒç†å†åºåˆ—é‡Œæ‰¾è¿ç»­çš„å¹³å‡å€¼æœ€å¤§çš„ä¸€ä¸²æ•°ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ã€‚\n\n\n#include &lt;bits/stdc++.h&gt;#define ll long long#define maxn 1000010#define ld long doubleusing namespace std;int n;int w[maxn];vector&lt;int&gt; val[maxn];int main(){    cin&gt;&gt;n;    for (int i=1;i&lt;=n;i++)        cin&gt;&gt;w[i];    for (int i=1;i&lt;n;i++)    {        int x,y;        cin&gt;&gt;x&gt;&gt;y;        val[x].push_back(w[y]);        val[y].push_back(w[x]);    }    for (int i=1;i&lt;=n;i++)        sort(val[i].begin(),val[i].end());    ld ans=-1e100;    for (int i=1;i&lt;=n;i++)    {        int N=val[i].size();        ld cur=(1.0*w[i]+val[i][N-1])/2;        ans=max(ans,cur);        cur=(1.0*w[i]+val[i][0])/2;        ans=max(ans,-cur);        if (val[i].size()&gt;=2) {            cur = (1.0 * w[i] + val[i][N - 1] + val[i][N - 2]) / 3;            ans = max(ans, cur);            cur=(1.0*w[i]+val[i][0]+val[i][1])/3;            ans=max(ans,-cur);        }    }    ans=ans*ans/4;    cout&lt;&lt;fixed&lt;&lt;setprecision(10)&lt;&lt;ans&lt;&lt;endl;    return 0;}\n\n\n\n    B.Blocks\n\n\n\né¢˜ç›®å¤§æ„\n\n\n    å¹³é¢ä¸Šç»™ä½ nä¸ªçŸ©é˜µï¼Œåæ ‡éƒ½ä¸ºæ­£æ•´æ•°ï¼Œç»™ä½ å·¦ä¸‹è§’ç«¯ç‚¹å’Œå³ä¸Šè§’ç«¯ç‚¹ã€‚ç„¶åç»™ä½ å¦ä¸€ä¸ªçŸ©é˜µW*Hï¼ˆé¢˜ç›®æ„Ÿè§‰æœ‰æ¼æ´ï¼Œæ²¡æœ‰è¯´è¿™ä¸ªW*Hå°±æ˜¯æœ€å¤§çš„ã€‚\næ¯æ¬¡ç­‰æ¦‚ç‡åœ°é€‰æ‹©nä¸ªçŸ©é˜µä¸­çš„ä¸€ä¸ªæŠŠå®ƒæ¶‚é»‘ï¼Œé—®æœ€åæŠŠW*Hæ¶‚é»‘çš„æœŸæœ›æ¬¡æ•°æ˜¯å¤šå°‘ã€‚néå¸¸å°ï¼Œå°äºæˆ–ç­‰äº10ã€‚\n\n\n    Solutions\n\n\n    nè¿™ä¹ˆå°ï¼Œä¸€çœ¼çŠ¶å‹ã€‚æŠŠåæ ‡ç¦»æ•£åŒ–ä¸€ä¸‹ï¼Œä¼šå‘ç°æ€»å…±ä¹Ÿæ²¡å¤šå°‘ä¸ªç‚¹ï¼Œå¯¹äºæ¯ä¸€ä¸ªå‹ç¼©çš„çŠ¶æ€ï¼Œç›´æ¥æš´åŠ›æ¶‚ç‚¹åˆ¤æ–­å³å¯ã€‚\n\n\n    ç»å…¸çš„æœŸæœ›dpæ¨¡å‹ï¼Œæ¶‚æ ¼å­ï¼Œç°åœ¨æœ‰nä¸ªæ ¼å­ï¼Œæ¯æ¬¡éšæœºæ¶‚ä¸€ä¸ªï¼Œé—®æ¶‚æ»¡mä¸ªæ ¼å­çš„æœŸæœ›æ•°ã€‚\n    ç»å…¸é€†æ¨ã€‚f[i]è¡¨ç¤ºå·²ç»æ¶‚äº†iä¸ªæ ¼å­ï¼Œåˆ°æ¶‚æ»¡mä¸ªè¿˜è¦å¤šå°‘æ­¥ã€‚\n\n\næœ‰ï¼Œï¼Œè½¬åŒ–ä¸€ä¸‹\nï¼Œè¿™ä¸€é¢˜f[i+1]æ˜¯æŠŠå½“å‰çŠ¶æ€å¼‚æˆ–ä¸Š1åçš„çŠ¶æ€ç›¸åŠ ï¼Œå°±æ˜¯(n-i)ä¸ªf[S^k]ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬ç´¯åŠ åï¼ŒåŠ ä¸Šnï¼Œé™¤ä»¥(n-i)å°±å¾—åˆ°äº†f[i]ã€‚æ³¨æ„ç¦»æ•£åŒ–å’Œæš´åŠ›æ¶‚æ ¼å­åˆ«å†™ç‚¸ï¼Œç¦»æ•£åŒ–åç»™çš„æ˜¯æ ¼ç‚¹ï¼Œæ¶‚çš„æ˜¯æ ¼å­ï¼Œè®°å¾—å¾ªç¯åˆ°n-1ï¼ˆä¸€å¼€å§‹å†™ç‚¸äº†ï¼‰\n\n\n#include &lt;bits/stdc++.h&gt;#define ll long long#define maxn 50const int mod=998244353;using namespace std;ll qpow(ll x,ll n){    ll ans=1;    while (n)    {        if (n&amp;1)            ans=1ll*ans*x%mod;        x=1ll*x*x%mod;        n&gt;&gt;=1;    }    return ans;}struct Rect{    int x1,y1,x2,y2;}rec[maxn];int n,W,H;int w[50],h[50],w1=0,h1=0;int state[(1&lt;&lt;10)+1],cnt[(1&lt;&lt;10)+1];int vis[50][50];ll dp[(1&lt;&lt;10)+1];int check(){    for (int x=1;x&lt;W;x++)        for (int y=1;y&lt;H;y++)            if (vis[x][y]==0)            {                return 0;            }    return 1;}int main(){   // cin&gt;&gt;n;   int T;   cin&gt;&gt;T;   while (T--)   {       w1=0;       memset(cnt,0,sizeof(cnt));       memset(dp,0,sizeof(dp));       h1=0;       cin&gt;&gt;n;       cin&gt;&gt;W&gt;&gt;H;       w[++w1]=W;       h[++h1]=H;       for (int i=1;i&lt;=n;i++)       {           cin&gt;&gt;rec[i].x1&gt;&gt;rec[i].y1;           w[++w1]=(rec[i].x1);           h[++h1]=rec[i].y1;           cin&gt;&gt;rec[i].x2&gt;&gt;rec[i].y2;           w[++w1]=(rec[i].x2);           h[++h1]=rec[i].y2;       }       sort(w+1,w+1+w1);       sort(h+1 ,h+1+h1);       w1=unique(w+1,w+1+w1)-w-1;       h1=unique(h+1,h+1+h1)-h-1;       W=lower_bound(w+1,w+1+w1,W)-w;       H=lower_bound(h+1,h+1+h1,H)-h;       for (int i=1;i&lt;=n;i++)       {           rec[i].x1=lower_bound(w+1,w+1+w1,rec[i].x1)-w;           rec[i].x2=lower_bound(w+1,w+1+w1,rec[i].x2)-w;           rec[i].y1=lower_bound(h+1,h+1+h1,rec[i].y1)-h;           rec[i].y2=lower_bound(h+1,h+1+h1,rec[i].y2)-h;       }       int S=(1&lt;&lt;n)-1;       for (int s=S;s&gt;=0;s--)       {           state[s]=1;           memset(vis,0,sizeof(vis));           for (int k=1;k&lt;=n;k++)           {               if (s&amp;(1&lt;&lt;(k-1)))               {                   cnt[s]++;                   for (int x=rec[k].x1;x&lt;rec[k].x2;x++)                       for (int y=rec[k].y1;y&lt;rec[k].y2;y++)                           vis[x][y]=1;               }           }           state[s]=check();       }       if (!state[S])       {           puts(\"-1\");           continue;       }       for (int s=S;s&gt;=0;s--)       {           if (state[s]==1)           {               dp[s]=0;               continue;           }           ll sum=0;           for (int k=1;k&lt;=n;k++)           {               if (!(s&amp;(1&lt;&lt;(k-1))))               {                   sum=(sum+dp[s|(1&lt;&lt;(k-1))])%mod;               }               ll inv=qpow(n-cnt[s],mod-2);               dp[s]=(ll)(sum+n)*inv%mod;               dp[s]%=mod;           }       }       cout&lt;&lt;dp[0]&lt;&lt;endl;   }}\n\n\nE.Easy String Problem\n\n\n\né¢˜ç›®å¤§æ„\n\n\n\n    ç»™ä½ ä¸€ä¸ªå­—å…¸é›†å¤§å°ä¸ºnçš„é•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ã€‚ç°åœ¨å¯¹äºæ¯ä¸€ä¸ªè¯¢é—®Lï¼ŒRï¼Œé—®ä½ æŠŠåŒ…å«[L,R]çš„å­ä¸²åˆ æ‰åèƒ½å¾—åˆ°å¤šå°‘æœ¬è´¨ä¸åŒçš„å­—ç¬¦ä¸²æ•°é‡ã€‚\n\n\n\n    Solutions\n\n\n    é¦–å…ˆåˆ é™¤åæœ¬è´¨ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œåˆ æ‰çš„å­—ç¬¦ä¸²é•¿åº¦ä¹Ÿæ˜¯ç›¸åŒçš„ã€‚è€ƒè™‘æœ¬è´¨ç›¸åŒçš„å­—ç¬¦ä¸²çš„æƒ…å†µï¼Œå¦‚æœ[l,r]ï¼ˆæœ‰l&lt;=L&lt;=R&lt;=r)ï¼Œæœ‰l-1=rï¼Œé‚£ä¹ˆ[l-1,r-1]å’Œ[l,r]æœ¬è´¨å°±æ˜¯ç›¸åŒçš„ï¼Œå…¶å®ä¸éš¾ç†è§£ã€‚\n    é‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ª[L,R]çš„è¯¢é—®ï¼Œæ‰€æœ‰çš„å¯è¡Œæ–¹æ¡ˆæ•°é‡æ˜¯L*(n-R+1)ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªè¦æŠŠé‡å¤çš„å‰ªæ‰å°±è¡Œï¼Œé‡å¤çš„æ•°é‡å°±æ˜¯[1,L]å’Œ[R,n]è¿™ä¸¤ä¸ªåŒºåŸŸé‡Œç›¸åŒçš„å­—æ¯çš„ä¸ªæ•°å°±æˆäº†ï¼Œç„¶åå°±æ˜¯ç»å…¸è«é˜Ÿäº†ã€‚\n\n\n//// Created by Administrator on 2022/4/22.//#include &lt;bits/stdc++.h&gt;#define maxn 100010#define ll long longusing namespace std;int sq,n,q;int a[maxn];ll ans[maxn],res;int cl[maxn],cr[maxn];int L,R;struct Seg{    int id,l,r;    bool operator &lt; (const Seg &amp; b) const{        if (l/sq!=b.l/sq)            return l&lt;b.l;        if (l/sq&amp;1)            return r&lt;b.r;        return r&gt;b.r;    }}req[maxn];int main(){    cin&gt;&gt;n;    sq=sqrt(n);    for (int i=1;i&lt;=n;i++)        cin&gt;&gt;a[i];    cin&gt;&gt;q;    for (int i=1;i&lt;=q;i++)    {        req[i].id=i;        cin&gt;&gt;req[i].l&gt;&gt;req[i].r;    }    sort(req+1,req+1+q);    L=1,R=n;    res=0;    for (int i=1;i&lt;=q;i++)    {        while (L&lt;req[i].l)        {            res+=cr[a[L]];            cl[a[L]]++;            L++;        }        while (L&gt;req[i].l)        {            L--;            cl[a[L]]--;            res-=cr[a[L]];        }        while (R&lt;req[i].r)        {            R++;            cr[a[R]]--;            res-=cl[a[R]];        }        while (R&gt;req[i].r)        {            res+=cl[a[R]];            cr[a[R]]++;            R--;        }        ans[req[i].id]=1ll*L*(ll)(n-R+1)-res;    }    for (int i=1;i&lt;=q;i++)        cout&lt;&lt;ans[i]&lt;&lt;endl;    return 0;}","categories":["ç®—æ³•ç«èµ›"],"tags":["æ¯”èµ›","è¡¥é¢˜","ICPC"]},{"title":"CUC-Spring-Trainingå­—ç¬¦ä¸²åŸºç¡€ç®—æ³•","url":"/2022/05/04/%E5%A4%87%E8%AF%BE%E7%AC%94%E8%AE%B0/","content":"\n    A - Oulipo\n\n\n\n    çº¯çº¯KMPæ¨¡æ¿é¢˜ï¼Œé€šè¿‡ç‡100%ï¼Œåº”è¯¥æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚æ¯ä¸€æ¬¡åŒ¹é…åˆ°ç›´æ¥æŠŠç­”æ¡ˆ+1å°±è¡Œäº†ã€‚\n\n\n\n    B - Reverse String\n\n\n\n    è¿‡è¿™é¢˜çš„åŒå­¦éƒ½æ˜¯ç›´æ¥brute forceçš„ï¼Œè‡ªç„¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå®˜æ–¹é¢˜è§£ä¹Ÿæ˜¯ç›´æ¥æš´åŠ›è¿‡çš„ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨hashæˆ–è€…z-algorithmä¼˜åŒ–dfsè¿‡ç¨‹ã€‚æ¯”å¦‚dfsä¸­å‘å³åŒ¹é…çš„è¿‡ç¨‹å¯ä»¥ç”¨zç®—æ³•æ‰¾æ¨¡å¼ä¸²å’Œå½“å‰ä¸²çš„LCPï¼ˆæœ€é•¿å…¬å…±å‰ç¼€ï¼‰ï¼Œåä¹‹å¾€å·¦èµ°å¯ä»¥æŠŠä¸¤ä¸ªä¸²å€’è¿‡æ¥æ±‚ä¸€æ¬¡zã€‚ï¼ˆå“ˆå¸ŒåŒç†ï¼‰ï¼Œå¯ä»¥å¤§å¤§ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚æœæŠŠæ•°æ®èŒƒå›´è°ƒå¤§ï¼Œè¿™äº›åšæ³•å€¼å¾—åŒå­¦ä»¬æ€è€ƒä¸€ä¸‹ã€‚\n\n\n    ä¸¢ä¸ªpyä»£ç ç»™å„ä½å°å°é²œ\n\n\nq = int(input())for i in range(q):\ts = input()\tt = input()\tn = len(s)\tm = len(t)\tans = False\tfor i in range(n):\t\tfor j in range(0, n - i):\t\t\tk = m - 1 - j\t\t\tif i + j &lt; k:\t\t\t\tcontinue                                 \t\t\tl1 = i\t\t\tr = i + j\t\t\tl2 = r - k                                \t\t\tif s[l1:r+1] + s[l2:r][::-1] == t:\t\t\t\tans = True\t\tprint('YES' if ans else 'NO')\n\n    C - äºæ˜¯ä»–é”™è¯¯çš„ç‚¹åå¼€å§‹äº† \n\n\n    Trieè£¸é¢˜ï¼Œå…¶å®æ ‡ç¨‹å°±æ˜¯ä¸‹å‘æ–‡ä»¶å¤¹ä¸­çš„Trie.cppï¼Œæ²¡èƒ½ç†è§£Trieçš„åŒå­¦å¯ä»¥ä»”ç»†é˜…è¯»ä»£ç åŠ æ·±ç†è§£ã€‚\n\n\n    å¦‚æœä¸æ˜¯å­—ç¬¦ä¸²ä¸“åœºï¼Œæˆ–è€…è¯´åœ¨æ­£å„¿å…«ç»çš„æ¯”èµ›é‡Œé‡åˆ°è¿™ç§é¢˜ï¼ŒåŒå­¦ä»¬ä¹Ÿå®Œå…¨å¯ä»¥å¼€ä¸€ä¸ªmapï¼Œæ¥è§£å†³è¿™é“é¢˜ç›®ï¼ŒSTLçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæœ¬ç€ä¸é‡å¤å‘æ˜è½®å­çš„åŸåˆ™ï¼Œå¸Œæœ›åŒå­¦ä»¬å–„äºåˆ©ç”¨ã€‚\n\n\n    upd...è°¢è°¢åŒå­¦æé†’ï¼Œä¸‹å‘çš„ä»£ç ä¸­Trieæ”¾é”™ä»£ç äº†ï¼Œæˆ‘çš„é”…æˆ‘çš„é”…ã€‚\n\n\n#include &lt;cstdio&gt;const int N = 500010;char s[60];int n, m, ch[N][26], tag[N], tot = 1;int main() {  scanf(\"%d\", &amp;n);  for (int i = 1; i &lt;= n; ++i) {    scanf(\"%s\", s + 1);    int u = 1;    for (int j = 1; s[j]; ++j) {      int c = s[j] - 'a';      if (!ch[u][c])        ch[u][c] =            ++tot;  // å¦‚æœè¿™ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¸­æ²¡æœ‰è¿™ä¸ªå­—ç¬¦ï¼Œæ·»åŠ ä¸Šå¹¶å°†è¯¥å­—ç¬¦çš„èŠ‚ç‚¹å·è®°å½•ä¸º++tot      u = ch[u][c];  // å¾€æ›´æ·±ä¸€å±‚æœç´¢    }    tag[u] = 1;  // æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºèŠ‚ç‚¹ u çš„åå­—æœªè¢«è®¿é—®åˆ°è®°å½•ä¸º 1  }  scanf(\"%d\", &amp;m);  while (m--) {    scanf(\"%s\", s + 1);    int u = 1;    for (int j = 1; s[j]; ++j) {      int c = s[j] - 'a';      u = ch[u][c];      if (!u) break;  // ä¸å­˜åœ¨å¯¹åº”å­—ç¬¦çš„å‡ºè¾¹è¯´æ˜åå­—ä¸å­˜åœ¨    }    if (tag[u] == 1) {      tag[u] = 2;  // æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºèŠ‚ç‚¹ u çš„åå­—å·²ç»è¢«è®¿é—®      puts(\"OK\");    } else if (tag[u] == 2)  // å·²ç»è¢«è®¿é—®ï¼Œé‡å¤è®¿é—®      puts(\"REPEAT\");    else      puts(\"WRONG\");  }  return 0;}\n\n\nD - Password \n\n\n\n    é¢˜ç›®æ„æ€æ˜¯è¯´æ‰¾åˆ°ä¸€ä¸ªéå‰ç¼€ä¸”éåç¼€çš„substringï¼Œä½¿å¾—å®ƒçš„é•¿åº¦æœ€é•¿ï¼Œä¸”å®ƒç­‰äºä¸å®ƒé•¿åº¦ç›¸åŒçš„å‰ç¼€å’Œåç¼€ã€‚ä¹Ÿå°±æ˜¯è¯´æ‰¾åˆ°ä¸€ä¸ªæœ€é•¿çš„å‰ç¼€ï¼Œä½¿å¾—å®ƒä¹Ÿæ˜¯ä¸€ä¸ªåç¼€ï¼Œå¹¶ä¸”è¿™ä¸ªå­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­é—´å‡ºç°è¿‡ã€‚\n\n\n    KMPå’ŒZ-algorithmçš†å¯ã€‚KMPçš„è¯ç›´æ¥ä»pi[n]å…¥æ‰‹ï¼Œå¦‚æœpi[n]æ‰€ä»£è¡¨çš„å‰ç¼€åœ¨å­—ç¬¦ä¸²ä¸­æŸä¸ªéå‰ç¼€/åç¼€çš„ä½ç½®å‡ºç°è¿‡ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å¯è¡Œè§£ï¼Œè¿™åˆ©ç”¨äº†pi[n]æ˜¯å½“å‰\"æœ€é•¿åŒ¹é…å‰ç¼€\"çš„æ€§è´¨ã€‚\n\n\n\n    å¦‚æœç”¨zç®—æ³•ï¼Œä¹Ÿæ¯”è¾ƒç›´è§‚ã€‚\n    å¤„ç†å‡ºzæ•°ç»„åï¼Œæˆ‘ä»¬è®°å½•å‰ié¡¹çš„zçš„æœ€å¤§å€¼\n    å¯¹äºç¬¬i+1é¡¹ï¼Œå¦‚æœz[i+1]+i==len&amp;&amp;max[i]&gt;=z[i+1],å³ä»i+1å¼€å§‹èƒ½åŒ¹é…åˆ°åç¼€,ä¸”å‰é¢å­˜åœ¨ä¸€ä¸ªç›¸åŒçš„ä¸²ï¼Œä»–æ‰€ä»£è¡¨çš„ä¸²å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„.\n\n\nKMP By æœ¬åœºRank1åŒå­¦\n#include&lt;iostream&gt;#include&lt;stdio.h&gt;#include&lt;cstring&gt; using namespace std;char p[2000007];int nnext[2000007];int book[2000007];void GetNext(){\tmemset(nnext,0,sizeof(nnext));\tint k = strlen(p);    nnext[0]=-1;    int i = 0;\tint j = -1;    while(i&lt;k)    {        if (j==-1||p[i]==p[j])        {            ++i;            ++j;            nnext[i] = j;        }        else            j = nnext[j];    }\tfor(int i=0;i&lt;k;++i)\t++book[nnext[i]];}int main(){\twhile(~scanf(\"%s\",p))\t{\t\tGetNext();\t\tint len = strlen(p);\t\tint judge = 0;\t\twhile(nnext[len]!=0)\t\t{\t\t\tif(book[nnext[len]])\t\t\t{\t\t\t\tfor(int i=0;i&lt;nnext[len];++i)\t\t\t\tprintf(\"%c\",p[i]);\t\t\t\t++judge;\t\t\t\tbreak;\t\t\t}\t\t\tlen = nnext[len];\t\t}\t\tif(judge==0)\t\tprintf(\"Just a legend\");\t\tprintf(\"\\n\");\t}\treturn 0;}\n\nZ-algorithm:\n#include&lt;cstdio&gt;#include&lt;iostream&gt;#include&lt;cstring&gt;using namespace std;int z[1000010],n,m,r,l;char b[1000010];int maxn=0;int main(){    scanf(\"%s\",b);    m=strlen(b);    for (int i=1;i&lt;=m;i++)    {        if (i&gt;r)        {            int t=i,bg=0;            while (b[t]==b[bg])                t++,bg++;            z[i]=bg;            r=t-1;            l=i;        }        else        {            if (z[i-l]&lt;r-i+1) z[i]=z[i-l];            else            {                int t=r+1,bg=r-i+1;                while (b[t]==b[bg])                    t++,bg++;                z[i]=bg;                r=t-1;                l=i;            }        }    }    int nw=0;    for (int i=1;i&lt;m;i++)    {        if (i+z[i]==m&amp;&amp;nw&gt;=z[i])            maxn=max(maxn,z[i]);        nw=max(nw,z[i]);    }    if (maxn==0) printf(\"Just a legend\");    for (int i=0;i&lt;maxn;i++)        printf(\"%c\",b[i]);}\n\n\nE - Spy Syndrome 2\n\n\n    ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ–‡æœ¬ä¸²ï¼Œè¿™ä¸ªæ–‡æœ¬ä¸²æ˜¯ç”±ä¸€å † å•è¯æ‹†åˆ†å¼€ä¹‹åæ¯ä¸ªå•è¯å˜å°å†™å¹¶ç¿»è½¬çš„æ¥çš„ï¼Œç°åœ¨ç»™ä½ è¿™ä¸ªé•¿åº¦ä¸ºNçš„å­—ç¬¦ä¸²ï¼Œè¿˜ç»™ä½ ä»–çš„åŸæ¥çš„ç»„æˆæˆåˆ†ï¼Œä½ è¦è¿˜åŸè¿™å¥è¯ï¼Œå…¶ä¸­æœ‰çš„å•è¯å¯èƒ½æ˜¯å¤šä½™çš„ã€‚\n\n\n\n    å…¶å®è¿˜æ˜¯å­—å…¸æ ‘çš„è£¸é¢˜ï¼Œä¸è¿‡æ—¢ç„¶å®ƒç¿»è½¬è¿‡æ¥äº†ï¼Œæˆ‘ä»¬å°±ç›´æ¥å€’åºå»ºç«‹å­—å…¸æ ‘ï¼Œå€’åºè·‘TrieåŒ¹é…ï¼Œæœ€åå†å°†å•è¯å€’åºè¾“å‡ºå³å¯ã€‚\n\n\nBy æœ¬åœºRank2åŒå­¦\n#include&lt;bits/stdc++.h&gt;using namespace std;//æ—¢æœ‰å•è¯å»ºæ ‘ã€reverseåŸã€breakåŸã€dfsã€å€’åºoutputconst int maxn=1e5+5;const int maxx=1e6+5;int tr[maxx][30],num[maxx],n,m,tot,dp[maxn];string s[maxn];string a;vector&lt;int&gt;v;void build_trie(string&amp; s,int No) {\tint p=0;\tfor (auto &amp;j : s) {\t\tint c;\t\tif(j&gt;='a'&amp;&amp;j&lt;='z')c=j-'a';\t\telse if(j&gt;='A'&amp;&amp;j&lt;='Z')c=j-'A';\t\tif(!tr[p][c]) tr[p][c] = ++tot;\t\tp=tr[p][c];\t}\tnum[p]=No;}void find(int t){\tint p=0;\tfor(int i=t;i&lt;n;i++){\t\tint c=a[i]-'a';\t\tif(!tr[p][c])return;\t\tp=tr[p][c];\t\tif(num[p])dp[i+1]=num[p];//mark the position\t}}void dfs(int k=n){//corret the order\tif(!k)return;\tint tmp=s[dp[k]].size();\tv.push_back(dp[k]);\tdfs(k-tmp);}int main(){\tscanf(\"%d\",&amp;n);\tcin&gt;&gt;a;\tscanf(\"%d\",&amp;m);\tfor(int i=1;i&lt;=m;i++){\t\tcin&gt;&gt;s[i];\t\tbuild_trie(s[i],i); \t}\treverse(a.begin(),a.end());\tfind(0);\tfor(int i=1;i&lt;=n;i++){\t\tif(!dp[i])continue;\t\tfind(i);\t}\tdfs();//\tcout&lt;&lt;\"ok\"&lt;&lt;endl;\tfor(auto &amp;r:v)cout&lt;&lt;s[r]&lt;&lt;\" \";\tcout&lt;&lt;endl;  \treturn 0;\t} \n\n\nF - Hash Killer II \n\n\n\n å¾ˆæœ‰æ„æ€çš„é¢˜ç›®ï¼Œè¦ä½ å‡ºä¸€ä¸ªå­—ç¬¦ä¸²å¡æ‰å•å“ˆå¸Œã€‚\n\n\n\n    è€ƒå¯Ÿç”Ÿæ—¥æ”»å‡»ï¼Œå…³äºç”Ÿæ—¥æ”»å‡»ï¼ŒçŸ¥ä¹ä¸Šæœ‰ä¸€ä¸ªå›ç­”è®²çš„å¾ˆä¸é”™ã€‚\n    \n        ç‚¹æˆ‘ç‚¹æˆ‘\n    \n\n\n\n    è¿™é¢˜ç”¨åˆ°ä¸€ä¸ªç»“è®ºï¼Œåœ¨nä¸ªæ•°é‡Œéšæœºé€‰æ•°ï¼Œé€‰äº†ä¸ªæ•°åï¼Œå‘ç”Ÿå†²çªçš„æ¦‚ç‡å°±æå¤§ã€‚\n    è¿™é¢˜çš„modæ•°æ˜¯1e9+7ï¼Œæˆ‘ä»¬æŠŠnè°ƒæˆ1e5ï¼ˆå°±æ˜¯æœ€å¤§å€¼ï¼‰,lé€‰ä¸€ä¸ªæ’åˆ—ç»„åˆåè¶³å¤Ÿå¤§çš„æ•°ï¼ˆæ¯”å¦‚20ï¼‰ï¼Œç›´æ¥éšæœºè¾“å‡ºä¸€ä¸ªä¸²ï¼Œå°±æ»¡è¶³æ¡ä»¶äº†ã€‚\n\n\n#include &lt;bits/stdc++.h&gt;using namespace std;int main() {    srand(time(0));    cout &lt;&lt; 100000 &lt;&lt; \" \" &lt;&lt; 20 &lt;&lt; endl;    for (int i = 1; i &lt;= 100000; i++)        cout &lt;&lt; (char)(rand() % 26 + 'a');}\n\n\nG - Test \n\n\n\nç»™ä½ ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾â¼€ä¸ªå­—ç¬¦ä¸²(å®ƒçš„â¼¦ä¸²å«æœ‰ä»¥ä¸Šä¸‰ä¸ªå­—ç¬¦ä¸²)ï¼Œè¾“å‡ºæ­¤å­—ç¬¦ä¸²çš„æœ€å°â»“åº¦ã€‚\n\n\n    æ˜¾ç„¶æœ‰ç§æ‹¼æ¥é¡ºåºï¼Œæˆ‘ä»¬ç›´æ¥æš´åŠ›æšä¸¾ä¸€ä¸‹æ‹¼æ¥é¡ºåºã€‚ï¼ˆnext_permutation)ã€‚å› ä¸ºè¦æ±‚æœ€å°é•¿åº¦ï¼Œæˆ‘ä»¬è‡ªç„¶å¸Œæœ›æ‹¼æ¥æ—¶èƒ½å°½é‡æŠŠé‡å éƒ¨åˆ†åˆå¹¶ã€‚é‚£æˆ‘ä»¬è‡ªç„¶å°±å¸Œæœ›åä¸€ä¸ªä¸²çš„å‰ç¼€å’Œå‰ä¸€ä¸ªä¸²çš„åç¼€èƒ½å°½å¯èƒ½å¤šåœ°é‡å ï¼é‚£ä¹ˆç”¨KMP/Zæ‹¼æ¥çš„æ€è·¯å°±éå¸¸æ˜ç¡®äº†ã€‚\n\n\nä¸€é±¼ä¸¤åƒ,Z-algorithm:\nint f[maxn];string S[4];int ord[3]={0,1,2};int ans=maxlongint;//z-algorithminline string skr(string a,string b){\tstring T=a+'$'+b;//merge a &amp; b\tint n=a.length();\tint m=b.length();\tint Len=n+m+1;\tf[0]=Len;\tint j=1,k;\tfor (int i=1;i&lt;Len;i=k)\t{\t\tif (j&lt;i) j=i;\t\twhile (T[j-i]==T[j] &amp;&amp; j&lt;Len)\t\t\tj++;\t\tf[i]=j-i;\t\tk=i+1;\t\twhile (k+f[k-i]&lt;j) k++;\t}\tint Lim=m+1;\tfor (int i=n+1;i&lt;Len;i++)\t{\t\tif(f[i]==n)\treturn b;\t\tif (i+f[i]&gt;=Len){\t\t\tLim=min(Lim,i-n);break;\t\t}\t}\tstring cur;\tcur=b.substr(0,Lim-1)+a;\treturn cur;}//mainint main(){\tcin&gt;&gt;S[0]&gt;&gt;S[1]&gt;&gt;S[2];\tdo {\t\tans=min(ans,(int)skr(skr(S[ord[0]],S[ord[1]]),S[ord[2]]).length());\t}while (next_permutation(ord,ord+3));\t//æš´åŠ›æšä¸¾ä¸‰ä¸ªä¸²é“¾æ¥çš„é¡ºåº\tcout&lt;&lt;ans&lt;&lt;endl;\treturn 0;} \n\nKMP:\nint f[maxn];string S[4];int ord[3]={0,1,2};int ans=maxlongint;inline string skr(string a,string b){\tstring T=a+'$'+b;//merge a &amp; b\tint n=a.length();\tint m=b.length();\tint Len=n+m+1;\t//int j=-1;\tf[0]=-1;\tint j=-1;\tfor(int i=1;i&lt;Len;i++)\t\t{\t\t\twhile (j!=-1 &amp;&amp; T[j+1]!=T[i])\t\t\t\t\tj=f[j];\t\t\tif(T[i]==T[j+1])\t\t\t\t\tj++;\t\t\tf[i]=j;\t\t}//æ‰¾nextæ•°ç»„\tfor (int i=n+1;i&lt;Len;i++)\t\tif (f[i]==n-1) return b;//aæ˜¯bçš„å­ä¸²\tstring cur=b.substr(0,m-1-f[Len-1])+a;//bå‡å»açš„ä¸€éƒ¨åˆ†å‰ç¼€+a\treturn cur;}//mainint main(){\t\tcin&gt;&gt;S[0]&gt;&gt;S[1]&gt;&gt;S[2];\tdo {\t\tans=min(ans,(int)skr(skr(S[ord[0]],S[ord[1]]),S[ord[2]]).length());\t}while (next_permutation(ord,ord+3));\t//æš´åŠ›æšä¸¾ä¸‰ä¸ªä¸²é“¾æ¥çš„é¡ºåº\tcout&lt;&lt;ans&lt;&lt;endl;\treturn 0;}","tags":["ICPC","æˆè¯¾"]},{"title":"CUC-Spring-Traning-Contesté¢˜è§£","url":"/2022/05/18/CUC-Spring-Traning-Contest%E9%A2%98%E8%A7%A3/","content":"D - Yet Another Palindrome Partitioning\n\n\n    ã€é¢˜ç›®å¤§æ„ã€‘\n\n\nç»™ä½ ä¸€å¨å­—ç¬¦ä¸²ï¼Œç°åœ¨ä½ å¯ä»¥åˆ†å‰²å®ƒï¼Œé—®ä½ æœ€å°‘åˆ†å‰²æˆå¤šå°‘ä¸ªå­ä¸²å¯ä»¥ä½¿æ¯ä¸ªå­ä¸²é‡æ–°æ’åˆ—åèƒ½æˆä¸ºä¸€ä¸ªå›æ–‡ä¸²ã€‚\n\n\n    ã€é¢˜è§£ã€‘\n\n\nè§‚å¯Ÿä¸€ä¸‹å›æ–‡ä¸²çš„æ€§è´¨ï¼Œé•¿åº¦ä¸ºå¶æ•°çš„å›æ–‡ä¸²ä¸­æ‰€æœ‰å­—æ¯çš„å‡ºç°æ¬¡æ•°å¿…å®šæ˜¯å¶æ•°ï¼Œè€Œé•¿åº¦ä¸ºå¥‡æ•°çš„å›æ–‡ä¸²æ˜¯åœ¨é•¿åº¦ä¸ºå¶æ•°çš„å›æ–‡ä¸²çš„åŸºç¡€ä¸ŠåŠ ä¸€ä¸ªå‡ºç°æ¬¡æ•°ä¸ºå¥‡æ•°çš„å­—æ¯ã€‚\n\n\næ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ª26ä½çš„äºŒè¿›åˆ¶æ•°è¡¨ç¤ºè¯»å…¥åˆ°å½“å‰è¿™ä¸ªä½ç½®çš„å­—æ¯æ—¶æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°çš„å¥‡å¶æ€§ï¼Œå¦‚æœå½“å‰è¿™ä¸ªçŠ¶æ€æŸå­—æ¯å‡ºç°æ¬¡æ•°æ˜¯å¥‡æ•°åˆ™è¯¥ä½ä¸ºå¥‡æ•°ã€‚ç„¶åæˆ‘ä»¬æšä¸¾å‡ºç°æ¬¡æ•°ä¸ºå¥‡æ•°çš„é‚£ä¸ªå­—æ¯ï¼Œå¦‚æœå½“å‰çŠ¶æ€çš„è¯¥ä½å’Œè¿™ä¸ªå­—æ¯çš„å¥‡å¶æ€§ä¸ä¸€æ ·é‚£ä¹ˆå°±å¯ä»¥è½¬ç§»äº†ã€‚\n\n\n#include &lt;bits/stdc++.h&gt;using namespace std;#define maxn 200010const int maxm=1&lt;&lt;26;#define INF 0x3f3f3f3fint dp[maxm];char s[maxn];int idx(char x){\tint ans=x-'a';\treturn 1&lt;&lt;ans;}int main(){\tmemset(dp,INF,sizeof(dp));\tcin&gt;&gt;s;\tint n=strlen(s);\tdp[0]=0;\tint now=idx(s[0]);\tdp[now]=1;\tfor (int i=1;i&lt;n;i++)\t{\t\tnow^=idx(s[i]);\t\tfor (int j=0;j&lt;=25;j++)\t\t{\t\t\tif (now^(1&lt;&lt;j)!=now) dp[now]=min(dp[now],dp[now^(1&lt;&lt;j)]+1);\t\t}\t}\tif (now==0) dp[now]=1;\tprintf(\"%d\\n\",dp[now]);\treturn 0;}\n\n\nE - Martian Strings\n\n\n    ã€é¢˜ç›®å¤§æ„ã€‘\n\n\nç»™ä½ ä¸€ä¸ªæ–‡æœ¬ä¸²T,å¯¹äºæ¯ä¸ªè¯¢é—®ä¸²é—®ä½ æ˜¯ä¸æ˜¯å¯ä»¥å°†Tæ‹†æˆä¸¤ä¸ªè¿ç»­å­ä¸²æ‹¼æˆæ¯ä¸ªè¯¢é—®ä¸².\n\n\n    ã€é¢˜è§£ã€‘\n\n\nz algorithmå¯ä»¥çº¿æ€§åœ°æå‡ºæ¥ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸ªåç¼€å’Œå®ƒè‡ªèº«çš„æœ€é•¿å…¬å…±å‰ç¼€.\n\næˆ‘ä»¬æŠŠæ¯ä¸ªè¯¢é—®ä¸²sææˆsçš„å½¢å¼è·‘ä¸€éå†æŠŠå’Œå€’è¿‡æ¥æä¸€ä¸ªTâ€™å†è·‘ä¸€éz algorithm,ç„¶ååœ¨ç¬¬ä¸€ä¸ªTçš„zæ•°ç»„é‡Œè·‘å¯¹äºæ¯ä¸ªèƒ½åŒ¹é…ä¸€éƒ¨åˆ†çš„ç‚¹çœ‹å®ƒåœ¨Tâ€™ä¸­å¯¹åº”çš„ç‚¹çš„å‰é¢æ˜¯å¦èƒ½æ‹¼æˆè¿™ä¸ªä¸²..(éå¸¸æŠ½è±¡..çœ‹ä»£ç â€¦)\n\n\n#include &lt;bits/stdc++.h&gt;using namespace std;#define maxn 100005#define maxm 1005#define ll long longll ans=0;char S[maxn],S2[maxn],s[maxn+maxm],t[maxn+maxm];char t1[maxm],t2[maxm];int z1[maxn+maxm],z2[maxn+maxm];inline void getz(int *z,int sz){\t\tz[0]=sz;\t\tint j=1,k;\t\tfor (int i=1;i&lt;sz;i=k)\t\t{\t\t\tif (j&lt;i) j=i;\t\t\twhile (s[j-i]==s[j] &amp;&amp; j&lt;sz) j++;\t\t\tz[i]=j-i;\t\t\tk=i+1;\t\t\twhile (k+z[k-i]&lt;j) k++;\t\t}}int main(){\tcin&gt;&gt;S;\tint N=strlen(S);\tfor (int j=0,cnt=N-1;cnt&gt;=0;j++,cnt--) S2[j]=S[cnt];\tint T;\tcin&gt;&gt;T;\twhile (T--)\t{\t\tmemset(z1,0,sizeof(z1));memset(z2,0,sizeof(z2));\t\tcin&gt;&gt;t1;\t\tint M=strlen(t1);\t\tif (M&lt;2 || M&gt;N) continue;\t\tfor (int j=0,cnt=M-1;cnt&gt;=0;j++,cnt--) t2[j]=t1[cnt];\t\tfor (int i=0;i&lt;M;i++) s[i]=t1[i];\t\ts[M]='$';\t\tfor (int i=M+1,j=0;j&lt;N;j++,i++) s[i]=S[j];\t\tgetz(z1,N+M+1);\t\tfor (int i=0;i&lt;M;i++) s[i]=t2[i];\t\ts[M]='$';\t\tfor (int i=M+1,j=0;j&lt;N;j++,i++) s[i]=S2[j];\t\tgetz(z2,N+M+1);\t\tfor (int i=1;i&lt;=N;i++) z1[i]=z1[i+M];\t\tfor (int i=1;i&lt;=N;i++) z2[i]=z2[i+M];\t\tz2[0]=0;\t\tfor (int i=1;i&lt;=N;i++) z2[i]=max(z2[i],z2[i-1]);\t\tfor (int i=1;i&lt;=N;i++){\t\t\tif (z1[i]!=0) {int pos=z1[i]+i-1+(M-z1[i]);\t\t\t\tpos=N-pos+1;\t\t\t\tif (pos&lt;1 || pos&gt;N) continue;\t\t\t\tif (z2[pos]+z1[i]&gt;=M) {ans++;break;}\t}}}\tcout&lt;&lt;ans&lt;&lt;endl;}\n\n\nF - Promising String (hard version) \n\n\n\n    é¢˜ç›®å¤§æ„\n\n\n    ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnï¼ŒåªåŒ…å«+-ç¬¦å·çš„å­—ç¬¦ä¸²ã€‚è¿ç»­ä¸¤ä¸ª-å¯ä»¥åˆå¹¶æˆä¸€ä¸ª+ã€‚é—®ä½ è¯¥å­—ç¬¦ä¸²ä¸­æœ‰å¤šå°‘å­ä¸²æ»¡è¶³ï¼Œç»è¿‡ä¸€äº›åˆå¹¶ï¼ˆæˆ–æ²¡æœ‰åˆå¹¶ï¼‰åå­ä¸²ä¸­+-å·æ•°é‡ç›¸ç­‰ã€‚\n\n\n\n    é¢˜è§£\n\n\n\n    \n        ä¸Šç»“è®ºï¼š\n    \n    å­ä¸²ä¸­-çš„ä¸ªæ•°æ¯”+å¤šï¼Œä¸”å·®å€¼æ˜¯3çš„å€æ•°ï¼Œåˆ™è®°ä¸€æ¬¡è´¡çŒ®ã€‚\n\n\n\n    é¦–å…ˆæ ¹æ®ç‹„åˆ©å…‹é›·åŸç†ï¼ˆæŠ½å±‰åŸç†ï¼‰ï¼Œå¦‚æœ-çš„ä¸ªæ•°æ¯”+å¤šäº2ä¸ªå³ä¸€å®šæœ‰ä¸¤ä¸ª-ç›¸è¿ã€‚å¹¶ä¸”è¿›è¡Œä¸€æ¬¡æ“ä½œåï¼Œ+-å·çš„å·®å¼‚åº¦ä¼š+3ã€‚é‚£ä¹ˆå°±å¯ä»¥è¿›è¡Œå¾ˆå¤šæ¬¡æ“ä½œå°†å·®å¼‚åº¦å˜ä¸º0ã€‚\n\n\n\n    è¿™é¢˜æœ‰å°æ•°æ®ï¼Œé‚£ä¹ˆå¯¹äºå°æ•°æ®ï¼ŒO(n^2)çš„æš´åŠ›ä¸ºï¼ˆå‡è®¾ä¸€å¼€å§‹å·®å¼‚åº¦ä¸ºnï¼‰ã€‚\n\n\ncur=n;for (int i=0;i&lt;n;i++){    cur+=(s[i]=='+')?1:-1;    dp[i]=cur;    for (int j=0;j&lt;i;j++)        if (s[j]&gt;s[i] &amp;&amp; (s[j]-s[i])%3==0)            ans++;//[j,i]ä¸ºåˆç†åŒºé—´}\n\n\n    è€ƒè™‘ä¼˜åŒ–è¿™ä¸ªçš„æš´åŠ›ï¼Œå¦‚æœæŠŠcuræ¨¡3 ï¼Œé‚£ä¹ˆå½“å‰å³ç«¯ç‚¹çš„è´¡çŒ®å°±æ˜¯å·¦ä¾§æ‰€æœ‰æ¯”å®ƒå¤§çš„%3å‰©ä½™ç³»çš„å€¼ã€‚çœ‹åˆ°å¾ˆå¤šäººå†™äº†ä¸€ä¸ªlogçº§çš„æ•°æ®ç»“æ„ï¼Œä½†è§‚å¯Ÿåˆ°å·®å¼‚åº¦æœ€å¤§å€¼ä¸º2n-1ï¼Œä¸æ˜¯å¾ˆå¤§ï¼Œæ‰€ä»¥ç›´æ¥å¯ä»¥å¼€ä¸ªè¡¨è®°å½•ä¸€ä¸‹ï¼ŒO(n)æŸ¥è¯¢ã€‚\n\n\ninline void solve(){\tint n;\tcin&gt;&gt;n;\tstring s;\tcin&gt;&gt;s;\tint lim=2*n+1;\tint lst=n;\tvector&lt;int&gt; f (3,0);\tvector&lt;int&gt; cnt (lim,0);\tf[lst%3]++;\tcnt[lst]++;\tll ans=0;\tfor (int i=0;i&lt;n;i++)\t{\t\tint cur=lst;\t\tif (s[i]=='+')\t\t{\t\t\tf[cur%3]-=cnt[cur];//æ¯”curå°çš„ä¸èƒ½ç”¨äº†\t\t\tcur++;\t\t\tans+=f[cur%3];\t\t\tf[cur%3]++;\t\t\tcnt[cur]++;\t\t}\t\telse{\t\t\tcur--;\t\t\tf[cur%3]+=cnt[cur];//å°äºç­‰äºcurçš„éƒ½èƒ½ç”¨\t\t\tans+=f[cur%3];\t\t\tf[cur%3]++;\t\t\tcnt[cur]++;\t\t}\t\tlst=cur;\t}\tcout&lt;&lt;ans&lt;&lt;endl;}\n\n\nG - Jumping on Walls \n\n\næš´åŠ›DFSå³å¯â€¦\n#include&lt;stdio.h&gt;  #include&lt;string.h&gt;  #include&lt;math.h&gt;  #include&lt;stdlib.h&gt;  #include&lt;queue&gt;  #include&lt;vector&gt;  #include &lt;bits/stdc++.h&gt;  using namespace std;  const int maxn=1e5+100;  int n,m,water;  char a[2][maxn];  int v[2][maxn];  int dfs(int pos,int j){      if(j&gt;n) return 1;      if(a[pos][j]=='X'||j&lt;water||v[pos][j]) return 0;      v[pos][j]=1;      water++;      int f=dfs(pos,j-1)||dfs(1-pos,j+m)||dfs(pos,j+1);      water--;      return f;  }  int main(){        scanf(\"%d %d\",&amp;n,&amp;m);          water=1;          scanf(\"%s %s\",a[0]+1,a[1]+1);          if(dfs(0,1)) printf(\"YES\\n\");          else printf(\"NO\\n\");      return 0;  }  ","categories":["ç®—æ³•ç«èµ›"],"tags":["ç®—æ³•ç«èµ›"]}]